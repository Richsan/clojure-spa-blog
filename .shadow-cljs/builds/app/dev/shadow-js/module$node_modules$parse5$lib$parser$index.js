["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/parse5/lib/parser/index.js"],"~:js","shadow$provide.module$node_modules$parse5$lib$parser$index=function(global,require,module,exports){function callAdoptionAgency(p,token$jscomp$0){for(let i$jscomp$0=0;8>i$jscomp$0;i$jscomp$0++){var formattingElementEntry=p;var token=token$jscomp$0,formattingElementEntry$jscomp$0=formattingElementEntry.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);formattingElementEntry$jscomp$0?formattingElementEntry.openElements.contains(formattingElementEntry$jscomp$0.element)?formattingElementEntry.openElements.hasInScope(token.tagName)||\n(formattingElementEntry$jscomp$0=null):(formattingElementEntry.activeFormattingElements.removeEntry(formattingElementEntry$jscomp$0),formattingElementEntry$jscomp$0=null):genericEndTagInBody(formattingElementEntry,token);formattingElementEntry=formattingElementEntry$jscomp$0;if(!formattingElementEntry)break;token=p;formattingElementEntry$jscomp$0=formattingElementEntry;var furthestBlock=null;for(var i$jscomp$1=token.openElements.stackTop;0<=i$jscomp$1;i$jscomp$1--){var element$jscomp$0=token.openElements.items[i$jscomp$1];\nif(element$jscomp$0===formattingElementEntry$jscomp$0.element)break;token._isSpecialElement(element$jscomp$0)&&(furthestBlock=element$jscomp$0)}furthestBlock||(token.openElements.popUntilElementPopped(formattingElementEntry$jscomp$0.element),token.activeFormattingElements.removeEntry(formattingElementEntry$jscomp$0));token=furthestBlock;if(!token)break;p.activeFormattingElements.bookmark=formattingElementEntry;formattingElementEntry$jscomp$0=p;furthestBlock=token;i$jscomp$1=formattingElementEntry.element;\nelement$jscomp$0=furthestBlock;var nextElement=formattingElementEntry$jscomp$0.openElements.getCommonAncestor(furthestBlock);for(let i=0,element=nextElement;element!==i$jscomp$1;i++,element=nextElement){nextElement=formattingElementEntry$jscomp$0.openElements.getCommonAncestor(element);const elementEntry=formattingElementEntry$jscomp$0.activeFormattingElements.getElementEntry(element);var counterOverflow=elementEntry&&3<=i;if(!elementEntry||counterOverflow)counterOverflow&&formattingElementEntry$jscomp$0.activeFormattingElements.removeEntry(elementEntry),\nformattingElementEntry$jscomp$0.openElements.remove(element);else{counterOverflow=formattingElementEntry$jscomp$0;var elementEntry$jscomp$0=elementEntry,ns=counterOverflow.treeAdapter.getNamespaceURI(elementEntry$jscomp$0.element);ns=counterOverflow.treeAdapter.createElement(elementEntry$jscomp$0.token.tagName,ns,elementEntry$jscomp$0.token.attrs);counterOverflow.openElements.replace(elementEntry$jscomp$0.element,ns);element=elementEntry$jscomp$0.element=ns;element$jscomp$0===furthestBlock&&(formattingElementEntry$jscomp$0.activeFormattingElements.bookmark=\nelementEntry);formattingElementEntry$jscomp$0.treeAdapter.detachNode(element$jscomp$0);formattingElementEntry$jscomp$0.treeAdapter.appendChild(element,element$jscomp$0);element$jscomp$0=element}}i$jscomp$1=element$jscomp$0;furthestBlock=p.openElements.getCommonAncestor(formattingElementEntry.element);p.treeAdapter.detachNode(i$jscomp$1);formattingElementEntry$jscomp$0=p;formattingElementEntry$jscomp$0._isElementCausesFosterParenting(furthestBlock)?formattingElementEntry$jscomp$0._fosterParentElement(i$jscomp$1):\n(element$jscomp$0=formattingElementEntry$jscomp$0.treeAdapter.getTagName(furthestBlock),nextElement=formattingElementEntry$jscomp$0.treeAdapter.getNamespaceURI(furthestBlock),element$jscomp$0===$.TEMPLATE&&nextElement===NS.HTML&&(furthestBlock=formattingElementEntry$jscomp$0.treeAdapter.getTemplateContent(furthestBlock)),formattingElementEntry$jscomp$0.treeAdapter.appendChild(furthestBlock,i$jscomp$1));formattingElementEntry$jscomp$0=p;furthestBlock=formattingElementEntry$jscomp$0.treeAdapter.getNamespaceURI(formattingElementEntry.element);\ni$jscomp$1=formattingElementEntry.token;furthestBlock=formattingElementEntry$jscomp$0.treeAdapter.createElement(i$jscomp$1.tagName,furthestBlock,i$jscomp$1.attrs);formattingElementEntry$jscomp$0._adoptNodes(token,furthestBlock);formattingElementEntry$jscomp$0.treeAdapter.appendChild(token,furthestBlock);formattingElementEntry$jscomp$0.activeFormattingElements.insertElementAfterBookmark(furthestBlock,formattingElementEntry.token);formattingElementEntry$jscomp$0.activeFormattingElements.removeEntry(formattingElementEntry);\nformattingElementEntry$jscomp$0.openElements.remove(formattingElementEntry.element);formattingElementEntry$jscomp$0.openElements.insertAfter(token,furthestBlock)}}function ignoreToken(){}function misplacedDoctype(p){p._err(ERR.misplacedDoctype)}function appendComment(p,token){p._appendCommentNode(token,p.openElements.currentTmplContent||p.openElements.current)}function appendCommentToDocument(p,token){p._appendCommentNode(token,p.document)}function insertCharacters(p,token){p._insertCharacters(token)}\nfunction stopParsing(p){p.stopped=!0}function tokenInInitialMode(p,token){p._err(ERR.missingDoctype,{beforeToken:!0});p.treeAdapter.setDocumentMode(p.document,HTML.DOCUMENT_MODE.QUIRKS);p.insertionMode=\"BEFORE_HTML_MODE\";p._processToken(token)}function tokenBeforeHtml(p,token){p._insertFakeRootElement();p.insertionMode=\"BEFORE_HEAD_MODE\";p._processToken(token)}function tokenBeforeHead(p,token){p._insertFakeElement($.HEAD);p.headElement=p.openElements.current;p.insertionMode=\"IN_HEAD_MODE\";p._processToken(token)}\nfunction startTagInHead(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META?(p._appendElement(token,NS.HTML),token.ackSelfClosing=!0):tn===$.TITLE?p._switchToTextParsing(token,Tokenizer.MODE.RCDATA):tn===$.NOSCRIPT?p.options.scriptingEnabled?p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT):(p._insertElement(token,NS.HTML),p.insertionMode=\"IN_HEAD_NO_SCRIPT_MODE\"):tn===$.NOFRAMES||tn===$.STYLE?p._switchToTextParsing(token,\nTokenizer.MODE.RAWTEXT):tn===$.SCRIPT?p._switchToTextParsing(token,Tokenizer.MODE.SCRIPT_DATA):tn===$.TEMPLATE?(p._insertTemplate(token,NS.HTML),p.activeFormattingElements.insertMarker(),p.framesetOk=!1,p.insertionMode=\"IN_TEMPLATE_MODE\",p._pushTmplInsertionMode(\"IN_TEMPLATE_MODE\")):tn===$.HEAD?p._err(ERR.misplacedStartTagForHeadElement):tokenInHead(p,token)}function endTagInHead(p,token){const tn=token.tagName;tn===$.HEAD?(p.openElements.pop(),p.insertionMode=\"AFTER_HEAD_MODE\"):tn===$.BODY||tn===\n$.BR||tn===$.HTML?tokenInHead(p,token):tn===$.TEMPLATE?0<p.openElements.tmplCount?(p.openElements.generateImpliedEndTagsThoroughly(),p.openElements.currentTagName!==$.TEMPLATE&&p._err(ERR.closingOfElementWithOpenChildElements),p.openElements.popUntilTagNamePopped($.TEMPLATE),p.activeFormattingElements.clearToLastMarker(),p._popTmplInsertionMode(),p._resetInsertionMode()):p._err(ERR.endTagWithoutMatchingOpenElement):p._err(ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(p,token){p.openElements.pop();\np.insertionMode=\"AFTER_HEAD_MODE\";p._processToken(token)}function tokenInHeadNoScript(p,token){p._err(token.type===Tokenizer.EOF_TOKEN?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead);p.openElements.pop();p.insertionMode=\"IN_HEAD_MODE\";p._processToken(token)}function tokenAfterHead(p,token){p._insertFakeElement($.BODY);p.insertionMode=\"IN_BODY_MODE\";p._processToken(token)}function whitespaceCharacterInBody(p,token){p._reconstructActiveFormattingElements();p._insertCharacters(token)}\nfunction characterInBody(p,token){p._reconstructActiveFormattingElements();p._insertCharacters(token);p.framesetOk=!1}function addressStartTagInBody(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement();p._insertElement(token,NS.HTML)}function preStartTagInBody(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement();p._insertElement(token,NS.HTML);p.skipNextNewLine=!0;p.framesetOk=!1}function bStartTagInBody(p,token){p._reconstructActiveFormattingElements();p._insertElement(token,\nNS.HTML);p.activeFormattingElements.pushElement(p.openElements.current,token)}function appletStartTagInBody(p,token){p._reconstructActiveFormattingElements();p._insertElement(token,NS.HTML);p.activeFormattingElements.insertMarker();p.framesetOk=!1}function areaStartTagInBody(p,token){p._reconstructActiveFormattingElements();p._appendElement(token,NS.HTML);p.framesetOk=!1;token.ackSelfClosing=!0}function optgroupStartTagInBody(p,token){p.openElements.currentTagName===$.OPTION&&p.openElements.pop();\np._reconstructActiveFormattingElements();p._insertElement(token,NS.HTML)}function rbStartTagInBody(p,token){p.openElements.hasInScope($.RUBY)&&p.openElements.generateImpliedEndTags();p._insertElement(token,NS.HTML)}function genericStartTagInBody(p,token){p._reconstructActiveFormattingElements();p._insertElement(token,NS.HTML)}function startTagInBody(p,token){var tn=token.tagName;switch(tn.length){case 1:if(tn===$.I||tn===$.S||tn===$.B||tn===$.U)bStartTagInBody(p,token);else if(tn===$.P)addressStartTagInBody(p,\ntoken);else if(tn===$.A){if(tn=p.activeFormattingElements.getElementEntryInScopeWithTagName($.A))callAdoptionAgency(p,token),p.openElements.remove(tn.element),p.activeFormattingElements.removeEntry(tn);p._reconstructActiveFormattingElements();p._insertElement(token,NS.HTML);p.activeFormattingElements.pushElement(p.openElements.current,token)}else genericStartTagInBody(p,token);break;case 2:if(tn===$.DL||tn===$.OL||tn===$.UL)addressStartTagInBody(p,token);else if(tn===$.H1||tn===$.H2||tn===$.H3||tn===\n$.H4||tn===$.H5||tn===$.H6)p.openElements.hasInButtonScope($.P)&&p._closePElement(),tn=p.openElements.currentTagName,tn!==$.H1&&tn!==$.H2&&tn!==$.H3&&tn!==$.H4&&tn!==$.H5&&tn!==$.H6||p.openElements.pop(),p._insertElement(token,NS.HTML);else if(tn===$.LI||tn===$.DD||tn===$.DT){p.framesetOk=!1;tn=token.tagName;for(let i=p.openElements.stackTop;0<=i;i--){const element=p.openElements.items[i],elementTn=p.treeAdapter.getTagName(element);let closeTn=null;tn===$.LI&&elementTn===$.LI?closeTn=$.LI:tn!==$.DD&&\ntn!==$.DT||elementTn!==$.DD&&elementTn!==$.DT||(closeTn=elementTn);if(closeTn){p.openElements.generateImpliedEndTagsWithExclusion(closeTn);p.openElements.popUntilTagNamePopped(closeTn);break}if(elementTn!==$.ADDRESS&&elementTn!==$.DIV&&elementTn!==$.P&&p._isSpecialElement(element))break}p.openElements.hasInButtonScope($.P)&&p._closePElement();p._insertElement(token,NS.HTML)}else tn===$.EM||tn===$.TT?bStartTagInBody(p,token):tn===$.BR?areaStartTagInBody(p,token):tn===$.HR?(p.openElements.hasInButtonScope($.P)&&\np._closePElement(),p._appendElement(token,NS.HTML),p.framesetOk=!1,token.ackSelfClosing=!0):tn===$.RB?rbStartTagInBody(p,token):tn===$.RT||tn===$.RP?(p.openElements.hasInScope($.RUBY)&&p.openElements.generateImpliedEndTagsWithExclusion($.RTC),p._insertElement(token,NS.HTML)):tn!==$.TH&&tn!==$.TD&&tn!==$.TR&&genericStartTagInBody(p,token);break;case 3:tn===$.DIV||tn===$.DIR||tn===$.NAV?addressStartTagInBody(p,token):tn===$.PRE?preStartTagInBody(p,token):tn===$.BIG?bStartTagInBody(p,token):tn===$.IMG||\ntn===$.WBR?areaStartTagInBody(p,token):tn===$.XMP?(p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._reconstructActiveFormattingElements(),p.framesetOk=!1,p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT)):tn===$.SVG?(p._reconstructActiveFormattingElements(),foreignContent.adjustTokenSVGAttrs(token),foreignContent.adjustTokenXMLAttrs(token),token.selfClosing?p._appendElement(token,NS.SVG):p._insertElement(token,NS.SVG),token.ackSelfClosing=!0):tn===$.RTC?rbStartTagInBody(p,token):tn!==\n$.COL&&genericStartTagInBody(p,token);break;case 4:if(tn===$.HTML)0===p.openElements.tmplCount&&p.treeAdapter.adoptAttributes(p.openElements.items[0],token.attrs);else if(tn===$.BASE||tn===$.LINK||tn===$.META)startTagInHead(p,token);else if(tn===$.BODY)(tn=p.openElements.tryPeekProperlyNestedBodyElement())&&0===p.openElements.tmplCount&&(p.framesetOk=!1,p.treeAdapter.adoptAttributes(tn,token.attrs));else if(tn===$.MAIN||tn===$.MENU)addressStartTagInBody(p,token);else if(tn===$.FORM){if(tn=0<p.openElements.tmplCount,\n!p.formElement||tn)p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),tn||(p.formElement=p.openElements.current)}else tn===$.CODE||tn===$.FONT?bStartTagInBody(p,token):tn===$.NOBR?(p._reconstructActiveFormattingElements(),p.openElements.hasInScope($.NOBR)&&(callAdoptionAgency(p,token),p._reconstructActiveFormattingElements()),p._insertElement(token,NS.HTML),p.activeFormattingElements.pushElement(p.openElements.current,token)):tn===$.AREA?areaStartTagInBody(p,\ntoken):tn===$.MATH?(p._reconstructActiveFormattingElements(),foreignContent.adjustTokenMathMLAttrs(token),foreignContent.adjustTokenXMLAttrs(token),token.selfClosing?p._appendElement(token,NS.MATHML):p._insertElement(token,NS.MATHML),token.ackSelfClosing=!0):tn===$.MENU?(p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML)):tn!==$.HEAD&&genericStartTagInBody(p,token);break;case 5:tn===$.STYLE||tn===$.TITLE?startTagInHead(p,token):tn===$.ASIDE?addressStartTagInBody(p,\ntoken):tn===$.SMALL?bStartTagInBody(p,token):tn===$.TABLE?(p.treeAdapter.getDocumentMode(p.document)!==HTML.DOCUMENT_MODE.QUIRKS&&p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode=\"IN_TABLE_MODE\"):tn===$.EMBED?areaStartTagInBody(p,token):tn===$.INPUT?(p._reconstructActiveFormattingElements(),p._appendElement(token,NS.HTML),tn=Tokenizer.getTokenAttr(token,ATTRS.TYPE),tn&&\"hidden\"===tn.toLowerCase()||(p.framesetOk=!1),token.ackSelfClosing=\n!0):tn===$.PARAM||tn===$.TRACK?(p._appendElement(token,NS.HTML),token.ackSelfClosing=!0):tn===$.IMAGE?(token.tagName=$.IMG,areaStartTagInBody(p,token)):tn!==$.FRAME&&tn!==$.TBODY&&tn!==$.TFOOT&&tn!==$.THEAD&&genericStartTagInBody(p,token);break;case 6:tn===$.SCRIPT?startTagInHead(p,token):tn===$.CENTER||tn===$.FIGURE||tn===$.FOOTER||tn===$.HEADER||tn===$.HGROUP||tn===$.DIALOG?addressStartTagInBody(p,token):tn===$.BUTTON?(p.openElements.hasInScope($.BUTTON)&&(p.openElements.generateImpliedEndTags(),\np.openElements.popUntilTagNamePopped($.BUTTON)),p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.framesetOk=!1):tn===$.STRIKE||tn===$.STRONG?bStartTagInBody(p,token):tn===$.APPLET||tn===$.OBJECT?appletStartTagInBody(p,token):tn===$.KEYGEN?areaStartTagInBody(p,token):tn===$.SOURCE?(p._appendElement(token,NS.HTML),token.ackSelfClosing=!0):tn===$.IFRAME?(p.framesetOk=!1,p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT)):tn===$.SELECT?(p._reconstructActiveFormattingElements(),\np._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode=\"IN_TABLE_MODE\"===p.insertionMode||\"IN_CAPTION_MODE\"===p.insertionMode||\"IN_TABLE_BODY_MODE\"===p.insertionMode||\"IN_ROW_MODE\"===p.insertionMode||\"IN_CELL_MODE\"===p.insertionMode?\"IN_SELECT_IN_TABLE_MODE\":\"IN_SELECT_MODE\"):tn===$.OPTION?optgroupStartTagInBody(p,token):genericStartTagInBody(p,token);break;case 7:tn===$.BGSOUND?startTagInHead(p,token):tn===$.DETAILS||tn===$.ADDRESS||tn===$.ARTICLE||tn===$.SECTION||tn===$.SUMMARY?addressStartTagInBody(p,\ntoken):tn===$.LISTING?preStartTagInBody(p,token):tn===$.MARQUEE?appletStartTagInBody(p,token):tn===$.NOEMBED?p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT):tn!==$.CAPTION&&genericStartTagInBody(p,token);break;case 8:tn===$.BASEFONT?startTagInHead(p,token):tn===$.FRAMESET?(tn=p.openElements.tryPeekProperlyNestedBodyElement(),p.framesetOk&&tn&&(p.treeAdapter.detachNode(tn),p.openElements.popAllUpToHtmlElement(),p._insertElement(token,NS.HTML),p.insertionMode=\"IN_FRAMESET_MODE\")):tn===$.FIELDSET?\naddressStartTagInBody(p,token):tn===$.TEXTAREA?(p._insertElement(token,NS.HTML),p.skipNextNewLine=!0,p.tokenizer.state=Tokenizer.MODE.RCDATA,p.originalInsertionMode=p.insertionMode,p.framesetOk=!1,p.insertionMode=\"TEXT_MODE\"):tn===$.TEMPLATE?startTagInHead(p,token):tn===$.NOSCRIPT?p.options.scriptingEnabled?p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT):genericStartTagInBody(p,token):tn===$.OPTGROUP?optgroupStartTagInBody(p,token):tn!==$.COLGROUP&&genericStartTagInBody(p,token);break;case 9:tn===\n$.PLAINTEXT?(p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),p.tokenizer.state=Tokenizer.MODE.PLAINTEXT):genericStartTagInBody(p,token);break;case 10:tn===$.BLOCKQUOTE||tn===$.FIGCAPTION?addressStartTagInBody(p,token):genericStartTagInBody(p,token);break;default:genericStartTagInBody(p,token)}}function addressEndTagInBody(p,token){token=token.tagName;p.openElements.hasInScope(token)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(token))}\nfunction appletEndTagInBody(p,token){token=token.tagName;p.openElements.hasInScope(token)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(token),p.activeFormattingElements.clearToLastMarker())}function genericEndTagInBody(p,token){token=token.tagName;for(let i=p.openElements.stackTop;0<i;i--){const element=p.openElements.items[i];if(p.treeAdapter.getTagName(element)===token){p.openElements.generateImpliedEndTagsWithExclusion(token);p.openElements.popUntilElementPopped(element);\nbreak}if(p._isSpecialElement(element))break}}function endTagInBody(p,token){var tn=token.tagName;switch(tn.length){case 1:tn===$.A||tn===$.B||tn===$.I||tn===$.S||tn===$.U?callAdoptionAgency(p,token):tn===$.P?(p.openElements.hasInButtonScope($.P)||p._insertFakeElement($.P),p._closePElement()):genericEndTagInBody(p,token);break;case 2:tn===$.DL||tn===$.UL||tn===$.OL?addressEndTagInBody(p,token):tn===$.LI?p.openElements.hasInListItemScope($.LI)&&(p.openElements.generateImpliedEndTagsWithExclusion($.LI),\np.openElements.popUntilTagNamePopped($.LI)):tn===$.DD||tn===$.DT?(token=token.tagName,p.openElements.hasInScope(token)&&(p.openElements.generateImpliedEndTagsWithExclusion(token),p.openElements.popUntilTagNamePopped(token))):tn===$.H1||tn===$.H2||tn===$.H3||tn===$.H4||tn===$.H5||tn===$.H6?p.openElements.hasNumberedHeaderInScope()&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilNumberedHeaderPopped()):tn===$.BR?(p._reconstructActiveFormattingElements(),p._insertFakeElement($.BR),p.openElements.pop(),\np.framesetOk=!1):tn===$.EM||tn===$.TT?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 3:tn===$.BIG?callAdoptionAgency(p,token):tn===$.DIR||tn===$.DIV||tn===$.NAV||tn===$.PRE?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 4:tn===$.BODY?p.openElements.hasInScope($.BODY)&&(p.insertionMode=\"AFTER_BODY_MODE\"):tn===$.HTML?p.openElements.hasInScope($.BODY)&&(p.insertionMode=\"AFTER_BODY_MODE\",p._processToken(token)):tn===$.FORM?(token=0<p.openElements.tmplCount,tn=\np.formElement,token||(p.formElement=null),(tn||token)&&p.openElements.hasInScope($.FORM)&&(p.openElements.generateImpliedEndTags(),token?p.openElements.popUntilTagNamePopped($.FORM):p.openElements.remove(tn))):tn===$.CODE||tn===$.FONT||tn===$.NOBR?callAdoptionAgency(p,token):tn===$.MAIN||tn===$.MENU?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 5:tn===$.ASIDE?addressEndTagInBody(p,token):tn===$.SMALL?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 6:tn===\n$.CENTER||tn===$.FIGURE||tn===$.FOOTER||tn===$.HEADER||tn===$.HGROUP||tn===$.DIALOG?addressEndTagInBody(p,token):tn===$.APPLET||tn===$.OBJECT?appletEndTagInBody(p,token):tn===$.STRIKE||tn===$.STRONG?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 7:tn===$.ADDRESS||tn===$.ARTICLE||tn===$.DETAILS||tn===$.SECTION||tn===$.SUMMARY||tn===$.LISTING?addressEndTagInBody(p,token):tn===$.MARQUEE?appletEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 8:tn===$.FIELDSET?addressEndTagInBody(p,\ntoken):tn===$.TEMPLATE?endTagInHead(p,token):genericEndTagInBody(p,token);break;case 10:tn===$.BLOCKQUOTE||tn===$.FIGCAPTION?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;default:genericEndTagInBody(p,token)}}function eofInBody(p,token){-1<p.tmplInsertionModeStackTop?eofInTemplate(p,token):p.stopped=!0}function characterInTable(p,token){const curTn=p.openElements.currentTagName;curTn===$.TABLE||curTn===$.TBODY||curTn===$.TFOOT||curTn===$.THEAD||curTn===$.TR?(p.pendingCharacterTokens=\n[],p.hasNonWhitespacePendingCharacterToken=!1,p.originalInsertionMode=p.insertionMode,p.insertionMode=\"IN_TABLE_TEXT_MODE\",p._processToken(token)):tokenInTable(p,token)}function startTagInTable(p,token){var tn=token.tagName;switch(tn.length){case 2:tn===$.TD||tn===$.TH||tn===$.TR?(p.openElements.clearBackToTableContext(),p._insertFakeElement($.TBODY),p.insertionMode=\"IN_TABLE_BODY_MODE\",p._processToken(token)):tokenInTable(p,token);break;case 3:tn===$.COL?(p.openElements.clearBackToTableContext(),\np._insertFakeElement($.COLGROUP),p.insertionMode=\"IN_COLUMN_GROUP_MODE\",p._processToken(token)):tokenInTable(p,token);break;case 4:tn===$.FORM?p.formElement||0!==p.openElements.tmplCount||(p._insertElement(token,NS.HTML),p.formElement=p.openElements.current,p.openElements.pop()):tokenInTable(p,token);break;case 5:tn===$.TABLE?p.openElements.hasInTableScope($.TABLE)&&(p.openElements.popUntilTagNamePopped($.TABLE),p._resetInsertionMode(),p._processToken(token)):tn===$.STYLE?startTagInHead(p,token):\ntn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?(p.openElements.clearBackToTableContext(),p._insertElement(token,NS.HTML),p.insertionMode=\"IN_TABLE_BODY_MODE\"):tn===$.INPUT?((tn=Tokenizer.getTokenAttr(token,ATTRS.TYPE))&&\"hidden\"===tn.toLowerCase()?p._appendElement(token,NS.HTML):tokenInTable(p,token),token.ackSelfClosing=!0):tokenInTable(p,token);break;case 6:tn===$.SCRIPT?startTagInHead(p,token):tokenInTable(p,token);break;case 7:tn===$.CAPTION?(p.openElements.clearBackToTableContext(),p.activeFormattingElements.insertMarker(),\np._insertElement(token,NS.HTML),p.insertionMode=\"IN_CAPTION_MODE\"):tokenInTable(p,token);break;case 8:tn===$.COLGROUP?(p.openElements.clearBackToTableContext(),p._insertElement(token,NS.HTML),p.insertionMode=\"IN_COLUMN_GROUP_MODE\"):tn===$.TEMPLATE?startTagInHead(p,token):tokenInTable(p,token);break;default:tokenInTable(p,token)}}function endTagInTable(p,token){const tn=token.tagName;tn===$.TABLE?p.openElements.hasInTableScope($.TABLE)&&(p.openElements.popUntilTagNamePopped($.TABLE),p._resetInsertionMode()):\ntn===$.TEMPLATE?endTagInHead(p,token):tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&tn!==$.TBODY&&tn!==$.TD&&tn!==$.TFOOT&&tn!==$.TH&&tn!==$.THEAD&&tn!==$.TR&&tokenInTable(p,token)}function tokenInTable(p,token){const savedFosterParentingState=p.fosterParentingEnabled;p.fosterParentingEnabled=!0;p._processTokenInBodyMode(token);p.fosterParentingEnabled=savedFosterParentingState}function tokenInTableText(p,token){let i=0;if(p.hasNonWhitespacePendingCharacterToken)for(;i<p.pendingCharacterTokens.length;i++)tokenInTable(p,\np.pendingCharacterTokens[i]);else for(;i<p.pendingCharacterTokens.length;i++)p._insertCharacters(p.pendingCharacterTokens[i]);p.insertionMode=p.originalInsertionMode;p._processToken(token)}function tokenInColumnGroup(p,token){p.openElements.currentTagName===$.COLGROUP&&(p.openElements.pop(),p.insertionMode=\"IN_TABLE_MODE\",p._processToken(token))}function startTagInSelect(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.OPTION?(p.openElements.currentTagName===$.OPTION&&p.openElements.pop(),\np._insertElement(token,NS.HTML)):tn===$.OPTGROUP?(p.openElements.currentTagName===$.OPTION&&p.openElements.pop(),p.openElements.currentTagName===$.OPTGROUP&&p.openElements.pop(),p._insertElement(token,NS.HTML)):tn===$.INPUT||tn===$.KEYGEN||tn===$.TEXTAREA||tn===$.SELECT?p.openElements.hasInSelectScope($.SELECT)&&(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),tn!==$.SELECT&&p._processToken(token)):tn!==$.SCRIPT&&tn!==$.TEMPLATE||startTagInHead(p,token)}function endTagInSelect(p,\ntoken){const tn=token.tagName;tn===$.OPTGROUP?(token=(token=p.openElements.items[p.openElements.stackTop-1])&&p.treeAdapter.getTagName(token),p.openElements.currentTagName===$.OPTION&&token===$.OPTGROUP&&p.openElements.pop(),p.openElements.currentTagName===$.OPTGROUP&&p.openElements.pop()):tn===$.OPTION?p.openElements.currentTagName===$.OPTION&&p.openElements.pop():tn===$.SELECT&&p.openElements.hasInSelectScope($.SELECT)?(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode()):tn===\n$.TEMPLATE&&endTagInHead(p,token)}function eofInTemplate(p,token){0<p.openElements.tmplCount?(p.openElements.popUntilTagNamePopped($.TEMPLATE),p.activeFormattingElements.clearToLastMarker(),p._popTmplInsertionMode(),p._resetInsertionMode(),p._processToken(token)):p.stopped=!0}function tokenAfterBody(p,token){p.insertionMode=\"IN_BODY_MODE\";p._processToken(token)}function tokenAfterAfterBody(p,token){p.insertionMode=\"IN_BODY_MODE\";p._processToken(token)}const Tokenizer=require(\"module$node_modules$parse5$lib$tokenizer$index\"),\nOpenElementStack=require(\"module$node_modules$parse5$lib$parser$open_element_stack\"),FormattingElementList=require(\"module$node_modules$parse5$lib$parser$formatting_element_list\"),LocationInfoParserMixin=require(\"module$node_modules$parse5$lib$extensions$location_info$parser_mixin\"),ErrorReportingParserMixin=require(\"module$node_modules$parse5$lib$extensions$error_reporting$parser_mixin\"),Mixin=require(\"module$node_modules$parse5$lib$utils$mixin\");global=require(\"module$node_modules$parse5$lib$tree_adapters$default\");\nconst mergeOptions=require(\"module$node_modules$parse5$lib$utils$merge_options\"),doctype=require(\"module$node_modules$parse5$lib$common$doctype\"),foreignContent=require(\"module$node_modules$parse5$lib$common$foreign_content\"),ERR=require(\"module$node_modules$parse5$lib$common$error_codes\"),unicode=require(\"module$node_modules$parse5$lib$common$unicode\"),HTML=require(\"module$node_modules$parse5$lib$common$html\"),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES,ATTRS=HTML.ATTRS,DEFAULT_OPTIONS={scriptingEnabled:!0,\nsourceCodeLocationInfo:!1,onParseError:null,treeAdapter:global},INSERTION_MODE_RESET_MAP={[$.TR]:\"IN_ROW_MODE\",[$.TBODY]:\"IN_TABLE_BODY_MODE\",[$.THEAD]:\"IN_TABLE_BODY_MODE\",[$.TFOOT]:\"IN_TABLE_BODY_MODE\",[$.CAPTION]:\"IN_CAPTION_MODE\",[$.COLGROUP]:\"IN_COLUMN_GROUP_MODE\",[$.TABLE]:\"IN_TABLE_MODE\",[$.BODY]:\"IN_BODY_MODE\",[$.FRAMESET]:\"IN_FRAMESET_MODE\"},TEMPLATE_INSERTION_MODE_SWITCH_MAP={[$.CAPTION]:\"IN_TABLE_MODE\",[$.COLGROUP]:\"IN_TABLE_MODE\",[$.TBODY]:\"IN_TABLE_MODE\",[$.TFOOT]:\"IN_TABLE_MODE\",[$.THEAD]:\"IN_TABLE_MODE\",\n[$.COL]:\"IN_COLUMN_GROUP_MODE\",[$.TR]:\"IN_TABLE_BODY_MODE\",[$.TD]:\"IN_ROW_MODE\",[$.TH]:\"IN_ROW_MODE\"},TOKEN_HANDLERS={INITIAL_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenInInitialMode,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenInInitialMode,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:function(p,token){p._setDocumentType(token);const mode=token.forceQuirks?HTML.DOCUMENT_MODE.QUIRKS:doctype.getDocumentMode(token);doctype.isConforming(token)||\np._err(ERR.nonConformingDoctype);p.treeAdapter.setDocumentMode(p.document,mode);p.insertionMode=\"BEFORE_HTML_MODE\"},[Tokenizer.START_TAG_TOKEN]:tokenInInitialMode,[Tokenizer.END_TAG_TOKEN]:tokenInInitialMode,[Tokenizer.EOF_TOKEN]:tokenInInitialMode},BEFORE_HTML_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenBeforeHtml,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenBeforeHtml,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,\ntoken){token.tagName===$.HTML?(p._insertElement(token,NS.HTML),p.insertionMode=\"BEFORE_HEAD_MODE\"):tokenBeforeHtml(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn!==$.HTML&&tn!==$.HEAD&&tn!==$.BODY&&tn!==$.BR||tokenBeforeHtml(p,token)},[Tokenizer.EOF_TOKEN]:tokenBeforeHtml},BEFORE_HEAD_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenBeforeHead,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenBeforeHead,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.COMMENT_TOKEN]:appendComment,\n[Tokenizer.DOCTYPE_TOKEN]:misplacedDoctype,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.HEAD?(p._insertElement(token,NS.HTML),p.headElement=p.openElements.current,p.insertionMode=\"IN_HEAD_MODE\"):tokenBeforeHead(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HEAD||tn===$.BODY||tn===$.HTML||tn===$.BR?tokenBeforeHead(p,token):p._err(ERR.endTagWithoutMatchingOpenElement)},[Tokenizer.EOF_TOKEN]:tokenBeforeHead},\nIN_HEAD_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenInHead,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenInHead,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:misplacedDoctype,[Tokenizer.START_TAG_TOKEN]:startTagInHead,[Tokenizer.END_TAG_TOKEN]:endTagInHead,[Tokenizer.EOF_TOKEN]:tokenInHead},IN_HEAD_NO_SCRIPT_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenInHeadNoScript,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenInHeadNoScript,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,\n[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:misplacedDoctype,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.BASEFONT||tn===$.BGSOUND||tn===$.HEAD||tn===$.LINK||tn===$.META||tn===$.NOFRAMES||tn===$.STYLE?startTagInHead(p,token):tn===$.NOSCRIPT?p._err(ERR.nestedNoscriptInHead):tokenInHeadNoScript(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.NOSCRIPT?(p.openElements.pop(),p.insertionMode=\n\"IN_HEAD_MODE\"):tn===$.BR?tokenInHeadNoScript(p,token):p._err(ERR.endTagWithoutMatchingOpenElement)},[Tokenizer.EOF_TOKEN]:tokenInHeadNoScript},AFTER_HEAD_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenAfterHead,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenAfterHead,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:misplacedDoctype,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===\n$.BODY?(p._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode=\"IN_BODY_MODE\"):tn===$.FRAMESET?(p._insertElement(token,NS.HTML),p.insertionMode=\"IN_FRAMESET_MODE\"):tn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META||tn===$.NOFRAMES||tn===$.SCRIPT||tn===$.STYLE||tn===$.TEMPLATE||tn===$.TITLE?(p._err(ERR.abandonedHeadElementChild),p.openElements.push(p.headElement),startTagInHead(p,token),p.openElements.remove(p.headElement)):tn===$.HEAD?p._err(ERR.misplacedStartTagForHeadElement):\ntokenAfterHead(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.BODY||tn===$.HTML||tn===$.BR?tokenAfterHead(p,token):tn===$.TEMPLATE?endTagInHead(p,token):p._err(ERR.endTagWithoutMatchingOpenElement)},[Tokenizer.EOF_TOKEN]:tokenAfterHead},IN_BODY_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInBody,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,\n[Tokenizer.START_TAG_TOKEN]:startTagInBody,[Tokenizer.END_TAG_TOKEN]:endTagInBody,[Tokenizer.EOF_TOKEN]:eofInBody},TEXT_MODE:{[Tokenizer.CHARACTER_TOKEN]:insertCharacters,[Tokenizer.NULL_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:ignoreToken,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:ignoreToken,[Tokenizer.END_TAG_TOKEN]:function(p,token){token.tagName===$.SCRIPT&&(p.pendingScript=p.openElements.current);\np.openElements.pop();p.insertionMode=p.originalInsertionMode},[Tokenizer.EOF_TOKEN]:function(p,token){p._err(ERR.eofInElementThatCanContainOnlyText);p.openElements.pop();p.insertionMode=p.originalInsertionMode;p._processToken(token)}},IN_TABLE_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInTable,[Tokenizer.NULL_CHARACTER_TOKEN]:characterInTable,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:characterInTable,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:startTagInTable,\n[Tokenizer.END_TAG_TOKEN]:endTagInTable,[Tokenizer.EOF_TOKEN]:eofInBody},IN_TABLE_TEXT_MODE:{[Tokenizer.CHARACTER_TOKEN]:function(p,token){p.pendingCharacterTokens.push(token);p.hasNonWhitespacePendingCharacterToken=!0},[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:function(p,token){p.pendingCharacterTokens.push(token)},[Tokenizer.COMMENT_TOKEN]:tokenInTableText,[Tokenizer.DOCTYPE_TOKEN]:tokenInTableText,[Tokenizer.START_TAG_TOKEN]:tokenInTableText,[Tokenizer.END_TAG_TOKEN]:tokenInTableText,\n[Tokenizer.EOF_TOKEN]:tokenInTableText},IN_CAPTION_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInBody,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TD||tn===$.TFOOT||tn===$.TH||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope($.CAPTION)&&\n(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.CAPTION),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=\"IN_TABLE_MODE\",p._processToken(token)):startTagInBody(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.CAPTION||tn===$.TABLE?p.openElements.hasInTableScope($.CAPTION)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.CAPTION),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=\n\"IN_TABLE_MODE\",tn===$.TABLE&&p._processToken(token)):tn!==$.BODY&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&tn!==$.TBODY&&tn!==$.TD&&tn!==$.TFOOT&&tn!==$.TH&&tn!==$.THEAD&&tn!==$.TR&&endTagInBody(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_COLUMN_GROUP_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenInColumnGroup,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenInColumnGroup,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,\ntoken){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.COL?(p._appendElement(token,NS.HTML),token.ackSelfClosing=!0):tn===$.TEMPLATE?startTagInHead(p,token):tokenInColumnGroup(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.COLGROUP?p.openElements.currentTagName===$.COLGROUP&&(p.openElements.pop(),p.insertionMode=\"IN_TABLE_MODE\"):tn===$.TEMPLATE?endTagInHead(p,token):tn!==$.COL&&tokenInColumnGroup(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_TABLE_BODY_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInTable,\n[Tokenizer.NULL_CHARACTER_TOKEN]:characterInTable,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:characterInTable,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.TR?(p.openElements.clearBackToTableBodyContext(),p._insertElement(token,NS.HTML),p.insertionMode=\"IN_ROW_MODE\"):tn===$.TH||tn===$.TD?(p.openElements.clearBackToTableBodyContext(),p._insertFakeElement($.TR),p.insertionMode=\"IN_ROW_MODE\",p._processToken(token)):\ntn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?p.openElements.hasTableBodyContextInTableScope()&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=\"IN_TABLE_MODE\",p._processToken(token)):startTagInTable(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?p.openElements.hasInTableScope(tn)&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=\n\"IN_TABLE_MODE\"):tn===$.TABLE?p.openElements.hasTableBodyContextInTableScope()&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=\"IN_TABLE_MODE\",p._processToken(token)):(tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP||tn!==$.HTML&&tn!==$.TD&&tn!==$.TH&&tn!==$.TR)&&endTagInTable(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_ROW_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInTable,[Tokenizer.NULL_CHARACTER_TOKEN]:characterInTable,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:characterInTable,\n[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.TH||tn===$.TD?(p.openElements.clearBackToTableRowContext(),p._insertElement(token,NS.HTML),p.insertionMode=\"IN_CELL_MODE\",p.activeFormattingElements.insertMarker()):tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),\np.insertionMode=\"IN_TABLE_BODY_MODE\",p._processToken(token)):startTagInTable(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;if(tn===$.TR)p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=\"IN_TABLE_BODY_MODE\");else if(tn===$.TABLE)p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=\"IN_TABLE_BODY_MODE\",p._processToken(token));else if(tn===\n$.TBODY||tn===$.TFOOT||tn===$.THEAD){if(p.openElements.hasInTableScope(tn)||p.openElements.hasInTableScope($.TR))p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=\"IN_TABLE_BODY_MODE\",p._processToken(token)}else(tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP||tn!==$.HTML&&tn!==$.TD&&tn!==$.TH)&&endTagInTable(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_CELL_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInBody,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,\n[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;if(tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TD||tn===$.TFOOT||tn===$.TH||tn===$.THEAD||tn===$.TR){if(p.openElements.hasInTableScope($.TD)||p.openElements.hasInTableScope($.TH))p._closeTableCell(),p._processToken(token)}else startTagInBody(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.TD||tn===\n$.TH?p.openElements.hasInTableScope(tn)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(tn),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=\"IN_ROW_MODE\"):tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope(tn)&&(p._closeTableCell(),p._processToken(token)):tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&endTagInBody(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_SELECT_MODE:{[Tokenizer.CHARACTER_TOKEN]:insertCharacters,\n[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:startTagInSelect,[Tokenizer.END_TAG_TOKEN]:endTagInSelect,[Tokenizer.EOF_TOKEN]:eofInBody},IN_SELECT_IN_TABLE_MODE:{[Tokenizer.CHARACTER_TOKEN]:insertCharacters,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,\n[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.CAPTION||tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR||tn===$.TD||tn===$.TH?(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),p._processToken(token)):startTagInSelect(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.CAPTION||tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR||tn===$.TD||tn===$.TH?\np.openElements.hasInTableScope(tn)&&(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),p._processToken(token)):endTagInSelect(p,token)},[Tokenizer.EOF_TOKEN]:eofInBody},IN_TEMPLATE_MODE:{[Tokenizer.CHARACTER_TOKEN]:characterInBody,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){var tn=token.tagName;\ntn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META||tn===$.NOFRAMES||tn===$.SCRIPT||tn===$.STYLE||tn===$.TEMPLATE||tn===$.TITLE?startTagInHead(p,token):(tn=TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn]||\"IN_BODY_MODE\",p._popTmplInsertionMode(),p._pushTmplInsertionMode(tn),p.insertionMode=tn,p._processToken(token))},[Tokenizer.END_TAG_TOKEN]:function(p,token){token.tagName===$.TEMPLATE&&endTagInHead(p,token)},[Tokenizer.EOF_TOKEN]:eofInTemplate},AFTER_BODY_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenAfterBody,\n[Tokenizer.NULL_CHARACTER_TOKEN]:tokenAfterBody,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[Tokenizer.COMMENT_TOKEN]:function(p,token){p._appendCommentNode(token,p.openElements.items[0])},[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){token.tagName===$.HTML?startTagInBody(p,token):tokenAfterBody(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){token.tagName===$.HTML?p.fragmentContext||(p.insertionMode=\"AFTER_AFTER_BODY_MODE\"):tokenAfterBody(p,\ntoken)},[Tokenizer.EOF_TOKEN]:stopParsing},IN_FRAMESET_MODE:{[Tokenizer.CHARACTER_TOKEN]:ignoreToken,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.FRAMESET?p._insertElement(token,NS.HTML):tn===$.FRAME?(p._appendElement(token,NS.HTML),token.ackSelfClosing=!0):\ntn===$.NOFRAMES&&startTagInHead(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){token.tagName!==$.FRAMESET||p.openElements.isRootHtmlElementCurrent()||(p.openElements.pop(),p.fragmentContext||p.openElements.currentTagName===$.FRAMESET||(p.insertionMode=\"AFTER_FRAMESET_MODE\"))},[Tokenizer.EOF_TOKEN]:stopParsing},AFTER_FRAMESET_MODE:{[Tokenizer.CHARACTER_TOKEN]:ignoreToken,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:insertCharacters,[Tokenizer.COMMENT_TOKEN]:appendComment,\n[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.NOFRAMES&&startTagInHead(p,token)},[Tokenizer.END_TAG_TOKEN]:function(p,token){token.tagName===$.HTML&&(p.insertionMode=\"AFTER_AFTER_FRAMESET_MODE\")},[Tokenizer.EOF_TOKEN]:stopParsing},AFTER_AFTER_BODY_MODE:{[Tokenizer.CHARACTER_TOKEN]:tokenAfterAfterBody,[Tokenizer.NULL_CHARACTER_TOKEN]:tokenAfterAfterBody,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,\n[Tokenizer.COMMENT_TOKEN]:appendCommentToDocument,[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){token.tagName===$.HTML?startTagInBody(p,token):tokenAfterAfterBody(p,token)},[Tokenizer.END_TAG_TOKEN]:tokenAfterAfterBody,[Tokenizer.EOF_TOKEN]:stopParsing},AFTER_AFTER_FRAMESET_MODE:{[Tokenizer.CHARACTER_TOKEN]:ignoreToken,[Tokenizer.NULL_CHARACTER_TOKEN]:ignoreToken,[Tokenizer.WHITESPACE_CHARACTER_TOKEN]:whitespaceCharacterInBody,[Tokenizer.COMMENT_TOKEN]:appendCommentToDocument,\n[Tokenizer.DOCTYPE_TOKEN]:ignoreToken,[Tokenizer.START_TAG_TOKEN]:function(p,token){const tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.NOFRAMES&&startTagInHead(p,token)},[Tokenizer.END_TAG_TOKEN]:ignoreToken,[Tokenizer.EOF_TOKEN]:stopParsing}};class Parser{constructor(options){this.options=mergeOptions(DEFAULT_OPTIONS,options);this.treeAdapter=this.options.treeAdapter;this.pendingScript=null;this.options.sourceCodeLocationInfo&&Mixin.install(this,LocationInfoParserMixin);this.options.onParseError&&\nMixin.install(this,ErrorReportingParserMixin,{onParseError:this.options.onParseError})}parse(html){const document=this.treeAdapter.createDocument();this._bootstrap(document,null);this.tokenizer.write(html,!0);this._runParsingLoop(null);return document}parseFragment(html,fragmentContext){fragmentContext||(fragmentContext=this.treeAdapter.createElement($.TEMPLATE,NS.HTML,[]));const documentMock=this.treeAdapter.createElement(\"documentmock\",NS.HTML,[]);this._bootstrap(documentMock,fragmentContext);this.treeAdapter.getTagName(fragmentContext)===\n$.TEMPLATE&&this._pushTmplInsertionMode(\"IN_TEMPLATE_MODE\");this._initTokenizerForFragmentParsing();this._insertFakeRootElement();this._resetInsertionMode();this._findFormInFragmentContext();this.tokenizer.write(html,!0);this._runParsingLoop(null);html=this.treeAdapter.getFirstChild(documentMock);fragmentContext=this.treeAdapter.createDocumentFragment();this._adoptNodes(html,fragmentContext);return fragmentContext}_bootstrap(document,fragmentContext){this.tokenizer=new Tokenizer(this.options);this.stopped=\n!1;this.insertionMode=\"INITIAL_MODE\";this.originalInsertionMode=\"\";this.document=document;this.fragmentContext=fragmentContext;this.formElement=this.headElement=null;this.openElements=new OpenElementStack(this.document,this.treeAdapter);this.activeFormattingElements=new FormattingElementList(this.treeAdapter);this.tmplInsertionModeStack=[];this.tmplInsertionModeStackTop=-1;this.currentTmplInsertionMode=null;this.pendingCharacterTokens=[];this.hasNonWhitespacePendingCharacterToken=!1;this.framesetOk=\n!0;this.fosterParentingEnabled=this.skipNextNewLine=!1}_err(){}_runParsingLoop(scriptHandler){for(;!this.stopped;){this._setupTokenizerCDATAMode();const token=this.tokenizer.getNextToken();if(token.type===Tokenizer.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN&&\"\\n\"===token.chars[0])){if(1===token.chars.length)continue;token.chars=token.chars.substr(1)}this._processInputToken(token);if(scriptHandler&&this.pendingScript)break}}runParsingLoopForCurrentChunk(writeCallback,\nscriptHandler){this._runParsingLoop(scriptHandler);scriptHandler&&this.pendingScript?(writeCallback=this.pendingScript,this.pendingScript=null,scriptHandler(writeCallback)):writeCallback&&writeCallback()}_setupTokenizerCDATAMode(){const current=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=current&&current!==this.document&&this.treeAdapter.getNamespaceURI(current)!==NS.HTML&&!this._isIntegrationPoint(current)}_switchToTextParsing(currentToken,nextTokenizerState){this._insertElement(currentToken,\nNS.HTML);this.tokenizer.state=nextTokenizerState;this.originalInsertionMode=this.insertionMode;this.insertionMode=\"TEXT_MODE\"}switchToPlaintextParsing(){this.insertionMode=\"TEXT_MODE\";this.originalInsertionMode=\"IN_BODY_MODE\";this.tokenizer.state=Tokenizer.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let node=this.fragmentContext;do{if(this.treeAdapter.getTagName(node)===\n$.FORM){this.formElement=node;break}node=this.treeAdapter.getParentNode(node)}while(node)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===NS.HTML){const tn=this.treeAdapter.getTagName(this.fragmentContext);tn===$.TITLE||tn===$.TEXTAREA?this.tokenizer.state=Tokenizer.MODE.RCDATA:tn===$.STYLE||tn===$.XMP||tn===$.IFRAME||tn===$.NOEMBED||tn===$.NOFRAMES||tn===$.NOSCRIPT?this.tokenizer.state=Tokenizer.MODE.RAWTEXT:tn===$.SCRIPT?this.tokenizer.state=Tokenizer.MODE.SCRIPT_DATA:\ntn===$.PLAINTEXT&&(this.tokenizer.state=Tokenizer.MODE.PLAINTEXT)}}_setDocumentType(token){this.treeAdapter.setDocumentType(this.document,token.name||\"\",token.publicId||\"\",token.systemId||\"\")}_attachElementToTree(element){this._shouldFosterParentOnInsertion()?this._fosterParentElement(element):this.treeAdapter.appendChild(this.openElements.currentTmplContent||this.openElements.current,element)}_appendElement(token,namespaceURI){token=this.treeAdapter.createElement(token.tagName,namespaceURI,token.attrs);\nthis._attachElementToTree(token)}_insertElement(token,namespaceURI){token=this.treeAdapter.createElement(token.tagName,namespaceURI,token.attrs);this._attachElementToTree(token);this.openElements.push(token)}_insertFakeElement(tagName){tagName=this.treeAdapter.createElement(tagName,NS.HTML,[]);this._attachElementToTree(tagName);this.openElements.push(tagName)}_insertTemplate(token){token=this.treeAdapter.createElement(token.tagName,NS.HTML,token.attrs);const content=this.treeAdapter.createDocumentFragment();\nthis.treeAdapter.setTemplateContent(token,content);this._attachElementToTree(token);this.openElements.push(token)}_insertFakeRootElement(){const element=this.treeAdapter.createElement($.HTML,NS.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,element);this.openElements.push(element)}_appendCommentNode(token,parent){token=this.treeAdapter.createCommentNode(token.data);this.treeAdapter.appendChild(parent,token)}_insertCharacters(token){this._shouldFosterParentOnInsertion()?this._fosterParentText(token.chars):\nthis.treeAdapter.insertText(this.openElements.currentTmplContent||this.openElements.current,token.chars)}_adoptNodes(donor,recipient){for(let child=this.treeAdapter.getFirstChild(donor);child;child=this.treeAdapter.getFirstChild(donor))this.treeAdapter.detachNode(child),this.treeAdapter.appendChild(recipient,child)}_shouldProcessTokenInForeignContent(token){const current=this._getAdjustedCurrentElement();if(!current||current===this.document)return!1;var ns=this.treeAdapter.getNamespaceURI(current);\nif(ns===NS.HTML||this.treeAdapter.getTagName(current)===$.ANNOTATION_XML&&ns===NS.MATHML&&token.type===Tokenizer.START_TAG_TOKEN&&token.tagName===$.SVG)return!1;ns=token.type===Tokenizer.CHARACTER_TOKEN||token.type===Tokenizer.NULL_CHARACTER_TOKEN||token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN;return(token.type===Tokenizer.START_TAG_TOKEN&&token.tagName!==$.MGLYPH&&token.tagName!==$.MALIGNMARK||ns)&&this._isIntegrationPoint(current,NS.MATHML)||(token.type===Tokenizer.START_TAG_TOKEN||ns)&&this._isIntegrationPoint(current,\nNS.HTML)?!1:token.type!==Tokenizer.EOF_TOKEN}_processToken(token){TOKEN_HANDLERS[this.insertionMode][token.type](this,token)}_processTokenInBodyMode(token){TOKEN_HANDLERS.IN_BODY_MODE[token.type](this,token)}_processTokenInForeignContent(token){if(token.type===Tokenizer.CHARACTER_TOKEN)this._insertCharacters(token),this.framesetOk=!1;else if(token.type===Tokenizer.NULL_CHARACTER_TOKEN)token.chars=unicode.REPLACEMENT_CHARACTER,this._insertCharacters(token);else if(token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN)this._insertCharacters(token);\nelse if(token.type===Tokenizer.COMMENT_TOKEN)appendComment(this,token);else if(token.type===Tokenizer.START_TAG_TOKEN)if(foreignContent.causesExit(token)&&!this.fragmentContext){for(;this.treeAdapter.getNamespaceURI(this.openElements.current)!==NS.HTML&&!this._isIntegrationPoint(this.openElements.current);)this.openElements.pop();this._processToken(token)}else{var current=this._getAdjustedCurrentElement();current=this.treeAdapter.getNamespaceURI(current);current===NS.MATHML?foreignContent.adjustTokenMathMLAttrs(token):\ncurrent===NS.SVG&&(foreignContent.adjustTokenSVGTagName(token),foreignContent.adjustTokenSVGAttrs(token));foreignContent.adjustTokenXMLAttrs(token);token.selfClosing?this._appendElement(token,current):this._insertElement(token,current);token.ackSelfClosing=!0}else if(token.type===Tokenizer.END_TAG_TOKEN)for(current=this.openElements.stackTop;0<current;current--){const element=this.openElements.items[current];if(this.treeAdapter.getNamespaceURI(element)===NS.HTML){this._processToken(token);break}if(this.treeAdapter.getTagName(element).toLowerCase()===\ntoken.tagName){this.openElements.popUntilElementPopped(element);break}}}_processInputToken(token){this._shouldProcessTokenInForeignContent(token)?this._processTokenInForeignContent(token):this._processToken(token);token.type===Tokenizer.START_TAG_TOKEN&&token.selfClosing&&!token.ackSelfClosing&&this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(element,foreignNS){const tn=this.treeAdapter.getTagName(element),ns=this.treeAdapter.getNamespaceURI(element);element=this.treeAdapter.getAttrList(element);\nreturn foreignContent.isIntegrationPoint(tn,ns,element,foreignNS)}_reconstructActiveFormattingElements(){const listLength=this.activeFormattingElements.length;if(listLength){var unopenIdx=listLength;let entry;do if(unopenIdx--,entry=this.activeFormattingElements.entries[unopenIdx],entry.type===FormattingElementList.MARKER_ENTRY||this.openElements.contains(entry.element)){unopenIdx++;break}while(0<unopenIdx);for(;unopenIdx<listLength;unopenIdx++)entry=this.activeFormattingElements.entries[unopenIdx],\nthis._insertElement(entry.token,this.treeAdapter.getNamespaceURI(entry.element)),entry.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags();this.openElements.popUntilTableCellPopped();this.activeFormattingElements.clearToLastMarker();this.insertionMode=\"IN_ROW_MODE\"}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion($.P);this.openElements.popUntilTagNamePopped($.P)}_resetInsertionMode(){for(let i=this.openElements.stackTop,last=!1;0<=\ni;i--){var element=this.openElements.items[i];0===i&&(last=!0,this.fragmentContext&&(element=this.fragmentContext));element=this.treeAdapter.getTagName(element);const newInsertionMode=INSERTION_MODE_RESET_MAP[element];if(newInsertionMode){this.insertionMode=newInsertionMode;break}else if(!last&&(element===$.TD||element===$.TH)){this.insertionMode=\"IN_CELL_MODE\";break}else if(!last&&element===$.HEAD){this.insertionMode=\"IN_HEAD_MODE\";break}else if(element===$.SELECT){this._resetInsertionModeForSelect(i);\nbreak}else if(element===$.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}else if(element===$.HTML){this.insertionMode=this.headElement?\"AFTER_HEAD_MODE\":\"BEFORE_HEAD_MODE\";break}else if(last){this.insertionMode=\"IN_BODY_MODE\";break}}}_resetInsertionModeForSelect(selectIdx){if(0<selectIdx)for(--selectIdx;0<selectIdx;selectIdx--){const tn=this.treeAdapter.getTagName(this.openElements.items[selectIdx]);if(tn===$.TEMPLATE)break;else if(tn===$.TABLE){this.insertionMode=\"IN_SELECT_IN_TABLE_MODE\";\nreturn}}this.insertionMode=\"IN_SELECT_MODE\"}_pushTmplInsertionMode(mode){this.tmplInsertionModeStack.push(mode);this.tmplInsertionModeStackTop++;this.currentTmplInsertionMode=mode}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop();this.tmplInsertionModeStackTop--;this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(element){element=this.treeAdapter.getTagName(element);return element===$.TABLE||element===$.TBODY||element===\n$.TFOOT||element===$.THEAD||element===$.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const location={parent:null,beforeElement:null};for(let i=this.openElements.stackTop;0<=i;i--){const openElement=this.openElements.items[i],tn=this.treeAdapter.getTagName(openElement),ns=this.treeAdapter.getNamespaceURI(openElement);if(tn===$.TEMPLATE&&ns===NS.HTML){location.parent=this.treeAdapter.getTemplateContent(openElement);\nbreak}else if(tn===$.TABLE){location.parent=this.treeAdapter.getParentNode(openElement);location.parent?location.beforeElement=openElement:location.parent=this.openElements.items[i-1];break}}location.parent||(location.parent=this.openElements.items[0]);return location}_fosterParentElement(element){const location=this._findFosterParentingLocation();location.beforeElement?this.treeAdapter.insertBefore(location.parent,element,location.beforeElement):this.treeAdapter.appendChild(location.parent,element)}_fosterParentText(chars){const location=\nthis._findFosterParentingLocation();location.beforeElement?this.treeAdapter.insertTextBefore(location.parent,chars,location.beforeElement):this.treeAdapter.insertText(location.parent,chars)}_isSpecialElement(element){const tn=this.treeAdapter.getTagName(element);element=this.treeAdapter.getNamespaceURI(element);return HTML.SPECIAL_ELEMENTS[element][tn]}}module.exports=Parser}","~:source","shadow$provide[\"module$node_modules$parse5$lib$parser$index\"] = function(global,require,module,exports) {\n'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst OpenElementStack = require('./open-element-stack');\nconst FormattingElementList = require('./formatting-element-list');\nconst LocationInfoParserMixin = require('../extensions/location-info/parser-mixin');\nconst ErrorReportingParserMixin = require('../extensions/error-reporting/parser-mixin');\nconst Mixin = require('../utils/mixin');\nconst defaultTreeAdapter = require('../tree-adapters/default');\nconst mergeOptions = require('../utils/merge-options');\nconst doctype = require('../common/doctype');\nconst foreignContent = require('../common/foreign-content');\nconst ERR = require('../common/error-codes');\nconst unicode = require('../common/unicode');\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\nconst DEFAULT_OPTIONS = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    onParseError: null,\n    treeAdapter: defaultTreeAdapter\n};\n\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n\n//Insertion modes\nconst INITIAL_MODE = 'INITIAL_MODE';\nconst BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';\nconst BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';\nconst IN_HEAD_MODE = 'IN_HEAD_MODE';\nconst IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';\nconst AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';\nconst IN_BODY_MODE = 'IN_BODY_MODE';\nconst TEXT_MODE = 'TEXT_MODE';\nconst IN_TABLE_MODE = 'IN_TABLE_MODE';\nconst IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';\nconst IN_CAPTION_MODE = 'IN_CAPTION_MODE';\nconst IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';\nconst IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';\nconst IN_ROW_MODE = 'IN_ROW_MODE';\nconst IN_CELL_MODE = 'IN_CELL_MODE';\nconst IN_SELECT_MODE = 'IN_SELECT_MODE';\nconst IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';\nconst IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';\nconst AFTER_BODY_MODE = 'AFTER_BODY_MODE';\nconst IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';\nconst AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';\nconst AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';\nconst AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';\n\n//Insertion mode reset map\nconst INSERTION_MODE_RESET_MAP = {\n    [$.TR]: IN_ROW_MODE,\n    [$.TBODY]: IN_TABLE_BODY_MODE,\n    [$.THEAD]: IN_TABLE_BODY_MODE,\n    [$.TFOOT]: IN_TABLE_BODY_MODE,\n    [$.CAPTION]: IN_CAPTION_MODE,\n    [$.COLGROUP]: IN_COLUMN_GROUP_MODE,\n    [$.TABLE]: IN_TABLE_MODE,\n    [$.BODY]: IN_BODY_MODE,\n    [$.FRAMESET]: IN_FRAMESET_MODE\n};\n\n//Template insertion mode switch map\nconst TEMPLATE_INSERTION_MODE_SWITCH_MAP = {\n    [$.CAPTION]: IN_TABLE_MODE,\n    [$.COLGROUP]: IN_TABLE_MODE,\n    [$.TBODY]: IN_TABLE_MODE,\n    [$.TFOOT]: IN_TABLE_MODE,\n    [$.THEAD]: IN_TABLE_MODE,\n    [$.COL]: IN_COLUMN_GROUP_MODE,\n    [$.TR]: IN_TABLE_BODY_MODE,\n    [$.TD]: IN_ROW_MODE,\n    [$.TH]: IN_ROW_MODE\n};\n\n//Token handlers map for insertion modes\nconst TOKEN_HANDLERS = {\n    [INITIAL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: doctypeInInitialMode,\n        [Tokenizer.START_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.END_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.EOF_TOKEN]: tokenInInitialMode\n    },\n    [BEFORE_HTML_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHtml,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHtml,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHtml\n    },\n    [BEFORE_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHead,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHead\n    },\n    [IN_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHead,\n        [Tokenizer.EOF_TOKEN]: tokenInHead\n    },\n    [IN_HEAD_NO_SCRIPT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHeadNoScript,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHeadNoScript,\n        [Tokenizer.EOF_TOKEN]: tokenInHeadNoScript\n    },\n    [AFTER_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterHead,\n        [Tokenizer.EOF_TOKEN]: tokenAfterHead\n    },\n    [IN_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: ignoreToken,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.END_TAG_TOKEN]: endTagInText,\n        [Tokenizer.EOF_TOKEN]: eofInText\n    },\n    [IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTableText,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInTableText,\n        [Tokenizer.COMMENT_TOKEN]: tokenInTableText,\n        [Tokenizer.DOCTYPE_TOKEN]: tokenInTableText,\n        [Tokenizer.START_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.END_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.EOF_TOKEN]: tokenInTableText\n    },\n    [IN_CAPTION_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCaption,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCaption,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_COLUMN_GROUP_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInColumnGroup,\n        [Tokenizer.END_TAG_TOKEN]: endTagInColumnGroup,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTableBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTableBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_ROW_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInRow,\n        [Tokenizer.END_TAG_TOKEN]: endTagInRow,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_CELL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCell,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCell,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelect,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelect,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelectInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelectInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TEMPLATE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTemplate,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTemplate,\n        [Tokenizer.EOF_TOKEN]: eofInTemplate\n    },\n    [AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToRootHtmlElement,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [IN_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagInFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    }\n};\n\n//Parser\nclass Parser {\n    constructor(options) {\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\n\n        this.treeAdapter = this.options.treeAdapter;\n        this.pendingScript = null;\n\n        if (this.options.sourceCodeLocationInfo) {\n            Mixin.install(this, LocationInfoParserMixin);\n        }\n\n        if (this.options.onParseError) {\n            Mixin.install(this, ErrorReportingParserMixin, { onParseError: this.options.onParseError });\n        }\n    }\n\n    // API\n    parse(html) {\n        const document = this.treeAdapter.createDocument();\n\n        this._bootstrap(document, null);\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        return document;\n    }\n\n    parseFragment(html, fragmentContext) {\n        //NOTE: use <template> element as a fragment context if context element was not provided,\n        //so we will parse in \"forgiving\" manner\n        if (!fragmentContext) {\n            fragmentContext = this.treeAdapter.createElement($.TEMPLATE, NS.HTML, []);\n        }\n\n        //NOTE: create fake element which will be used as 'document' for fragment parsing.\n        //This is important for jsdom there 'document' can't be recreated, therefore\n        //fragment parsing causes messing of the main `document`.\n        const documentMock = this.treeAdapter.createElement('documentmock', NS.HTML, []);\n\n        this._bootstrap(documentMock, fragmentContext);\n\n        if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE) {\n            this._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n        }\n\n        this._initTokenizerForFragmentParsing();\n        this._insertFakeRootElement();\n        this._resetInsertionMode();\n        this._findFormInFragmentContext();\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        const rootElement = this.treeAdapter.getFirstChild(documentMock);\n        const fragment = this.treeAdapter.createDocumentFragment();\n\n        this._adoptNodes(rootElement, fragment);\n\n        return fragment;\n    }\n\n    //Bootstrap parser\n    _bootstrap(document, fragmentContext) {\n        this.tokenizer = new Tokenizer(this.options);\n\n        this.stopped = false;\n\n        this.insertionMode = INITIAL_MODE;\n        this.originalInsertionMode = '';\n\n        this.document = document;\n        this.fragmentContext = fragmentContext;\n\n        this.headElement = null;\n        this.formElement = null;\n\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n\n        this.tmplInsertionModeStack = [];\n        this.tmplInsertionModeStackTop = -1;\n        this.currentTmplInsertionMode = null;\n\n        this.pendingCharacterTokens = [];\n        this.hasNonWhitespacePendingCharacterToken = false;\n\n        this.framesetOk = true;\n        this.skipNextNewLine = false;\n        this.fosterParentingEnabled = false;\n    }\n\n    //Errors\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    //Parsing loop\n    _runParsingLoop(scriptHandler) {\n        while (!this.stopped) {\n            this._setupTokenizerCDATAMode();\n\n            const token = this.tokenizer.getNextToken();\n\n            if (token.type === Tokenizer.HIBERNATION_TOKEN) {\n                break;\n            }\n\n            if (this.skipNextNewLine) {\n                this.skipNextNewLine = false;\n\n                if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\\n') {\n                    if (token.chars.length === 1) {\n                        continue;\n                    }\n\n                    token.chars = token.chars.substr(1);\n                }\n            }\n\n            this._processInputToken(token);\n\n            if (scriptHandler && this.pendingScript) {\n                break;\n            }\n        }\n    }\n\n    runParsingLoopForCurrentChunk(writeCallback, scriptHandler) {\n        this._runParsingLoop(scriptHandler);\n\n        if (scriptHandler && this.pendingScript) {\n            const script = this.pendingScript;\n\n            this.pendingScript = null;\n\n            scriptHandler(script);\n\n            return;\n        }\n\n        if (writeCallback) {\n            writeCallback();\n        }\n    }\n\n    //Text parsing\n    _setupTokenizerCDATAMode() {\n        const current = this._getAdjustedCurrentElement();\n\n        this.tokenizer.allowCDATA =\n            current &&\n            current !== this.document &&\n            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &&\n            !this._isIntegrationPoint(current);\n    }\n\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = TEXT_MODE;\n    }\n\n    switchToPlaintextParsing() {\n        this.insertionMode = TEXT_MODE;\n        this.originalInsertionMode = IN_BODY_MODE;\n        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n    }\n\n    //Fragment parsing\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n\n        do {\n            if (this.treeAdapter.getTagName(node) === $.FORM) {\n                this.formElement = node;\n                break;\n            }\n\n            node = this.treeAdapter.getParentNode(node);\n        } while (node);\n    }\n\n    _initTokenizerForFragmentParsing() {\n        if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {\n            const tn = this.treeAdapter.getTagName(this.fragmentContext);\n\n            if (tn === $.TITLE || tn === $.TEXTAREA) {\n                this.tokenizer.state = Tokenizer.MODE.RCDATA;\n            } else if (\n                tn === $.STYLE ||\n                tn === $.XMP ||\n                tn === $.IFRAME ||\n                tn === $.NOEMBED ||\n                tn === $.NOFRAMES ||\n                tn === $.NOSCRIPT\n            ) {\n                this.tokenizer.state = Tokenizer.MODE.RAWTEXT;\n            } else if (tn === $.SCRIPT) {\n                this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;\n            } else if (tn === $.PLAINTEXT) {\n                this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n            }\n        }\n    }\n\n    //Tree mutation\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n    }\n\n    _attachElementToTree(element) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n    }\n\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertFakeElement(tagName) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl);\n        this.openElements.push(tmpl);\n    }\n\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement($.HTML, NS.HTML, []);\n\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element);\n    }\n\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n\n        this.treeAdapter.appendChild(parent, commentNode);\n    }\n\n    _insertCharacters(token) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentText(token.chars);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n    }\n\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n\n    //Token processing\n    _shouldProcessTokenInForeignContent(token) {\n        const current = this._getAdjustedCurrentElement();\n\n        if (!current || current === this.document) {\n            return false;\n        }\n\n        const ns = this.treeAdapter.getNamespaceURI(current);\n\n        if (ns === NS.HTML) {\n            return false;\n        }\n\n        if (\n            this.treeAdapter.getTagName(current) === $.ANNOTATION_XML &&\n            ns === NS.MATHML &&\n            token.type === Tokenizer.START_TAG_TOKEN &&\n            token.tagName === $.SVG\n        ) {\n            return false;\n        }\n\n        const isCharacterToken =\n            token.type === Tokenizer.CHARACTER_TOKEN ||\n            token.type === Tokenizer.NULL_CHARACTER_TOKEN ||\n            token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN;\n\n        const isMathMLTextStartTag =\n            token.type === Tokenizer.START_TAG_TOKEN && token.tagName !== $.MGLYPH && token.tagName !== $.MALIGNMARK;\n\n        if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS.MATHML)) {\n            return false;\n        }\n\n        if (\n            (token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &&\n            this._isIntegrationPoint(current, NS.HTML)\n        ) {\n            return false;\n        }\n\n        return token.type !== Tokenizer.EOF_TOKEN;\n    }\n\n    _processToken(token) {\n        TOKEN_HANDLERS[this.insertionMode][token.type](this, token);\n    }\n\n    _processTokenInBodyMode(token) {\n        TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);\n    }\n\n    _processTokenInForeignContent(token) {\n        if (token.type === Tokenizer.CHARACTER_TOKEN) {\n            characterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN) {\n            nullCharacterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN) {\n            insertCharacters(this, token);\n        } else if (token.type === Tokenizer.COMMENT_TOKEN) {\n            appendComment(this, token);\n        } else if (token.type === Tokenizer.START_TAG_TOKEN) {\n            startTagInForeignContent(this, token);\n        } else if (token.type === Tokenizer.END_TAG_TOKEN) {\n            endTagInForeignContent(this, token);\n        }\n    }\n\n    _processInputToken(token) {\n        if (this._shouldProcessTokenInForeignContent(token)) {\n            this._processTokenInForeignContent(token);\n        } else {\n            this._processToken(token);\n        }\n\n        if (token.type === Tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {\n            this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n\n    //Integration points\n    _isIntegrationPoint(element, foreignNS) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n\n        return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);\n    }\n\n    //Active formatting elements reconstruction\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.length;\n\n        if (listLength) {\n            let unopenIdx = listLength;\n            let entry = null;\n\n            do {\n                unopenIdx--;\n                entry = this.activeFormattingElements.entries[unopenIdx];\n\n                if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {\n                    unopenIdx++;\n                    break;\n                }\n            } while (unopenIdx > 0);\n\n            for (let i = unopenIdx; i < listLength; i++) {\n                entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n\n    //Close elements\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = IN_ROW_MODE;\n    }\n\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n\n    //Insertion modes\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop, last = false; i >= 0; i--) {\n            let element = this.openElements.items[i];\n\n            if (i === 0) {\n                last = true;\n\n                if (this.fragmentContext) {\n                    element = this.fragmentContext;\n                }\n            }\n\n            const tn = this.treeAdapter.getTagName(element);\n            const newInsertionMode = INSERTION_MODE_RESET_MAP[tn];\n\n            if (newInsertionMode) {\n                this.insertionMode = newInsertionMode;\n                break;\n            } else if (!last && (tn === $.TD || tn === $.TH)) {\n                this.insertionMode = IN_CELL_MODE;\n                break;\n            } else if (!last && tn === $.HEAD) {\n                this.insertionMode = IN_HEAD_MODE;\n                break;\n            } else if (tn === $.SELECT) {\n                this._resetInsertionModeForSelect(i);\n                break;\n            } else if (tn === $.TEMPLATE) {\n                this.insertionMode = this.currentTmplInsertionMode;\n                break;\n            } else if (tn === $.HTML) {\n                this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;\n                break;\n            } else if (last) {\n                this.insertionMode = IN_BODY_MODE;\n                break;\n            }\n        }\n    }\n\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const ancestor = this.openElements.items[i];\n                const tn = this.treeAdapter.getTagName(ancestor);\n\n                if (tn === $.TEMPLATE) {\n                    break;\n                } else if (tn === $.TABLE) {\n                    this.insertionMode = IN_SELECT_IN_TABLE_MODE;\n                    return;\n                }\n            }\n        }\n\n        this.insertionMode = IN_SELECT_MODE;\n    }\n\n    _pushTmplInsertionMode(mode) {\n        this.tmplInsertionModeStack.push(mode);\n        this.tmplInsertionModeStackTop++;\n        this.currentTmplInsertionMode = mode;\n    }\n\n    _popTmplInsertionMode() {\n        this.tmplInsertionModeStack.pop();\n        this.tmplInsertionModeStackTop--;\n        this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];\n    }\n\n    //Foster parenting\n    _isElementCausesFosterParenting(element) {\n        const tn = this.treeAdapter.getTagName(element);\n\n        return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;\n    }\n\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);\n    }\n\n    _findFosterParentingLocation() {\n        const location = {\n            parent: null,\n            beforeElement: null\n        };\n\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            const tn = this.treeAdapter.getTagName(openElement);\n            const ns = this.treeAdapter.getNamespaceURI(openElement);\n\n            if (tn === $.TEMPLATE && ns === NS.HTML) {\n                location.parent = this.treeAdapter.getTemplateContent(openElement);\n                break;\n            } else if (tn === $.TABLE) {\n                location.parent = this.treeAdapter.getParentNode(openElement);\n\n                if (location.parent) {\n                    location.beforeElement = openElement;\n                } else {\n                    location.parent = this.openElements.items[i - 1];\n                }\n\n                break;\n            }\n        }\n\n        if (!location.parent) {\n            location.parent = this.openElements.items[0];\n        }\n\n        return location;\n    }\n\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        } else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n\n    _fosterParentText(chars) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);\n        } else {\n            this.treeAdapter.insertText(location.parent, chars);\n        }\n    }\n\n    //Special elements\n    _isSpecialElement(element) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n\n        return HTML.SPECIAL_ELEMENTS[ns][tn];\n    }\n}\n\nmodule.exports = Parser;\n\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        } else if (!p.openElements.hasInScope(token.tagName)) {\n            formattingElementEntry = null;\n        }\n    } else {\n        genericEndTagInBody(p, token);\n    }\n\n    return formattingElementEntry;\n}\n\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            furthestBlock = element;\n        }\n    }\n\n    if (!furthestBlock) {\n        p.openElements.popUntilElementPopped(formattingElementEntry.element);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n\n    return furthestBlock;\n}\n\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n\n            p.openElements.remove(element);\n        } else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n\n    return lastElement;\n}\n\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n\n    return newElement;\n}\n\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    if (p._isElementCausesFosterParenting(commonAncestor)) {\n        p._fosterParentElement(lastElement);\n    } else {\n        const tn = p.treeAdapter.getTagName(commonAncestor);\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n\n        if (tn === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const token = formattingElementEntry.token;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement);\n}\n\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    let formattingElementEntry;\n\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        formattingElementEntry = aaObtainFormattingElementEntry(p, token, formattingElementEntry);\n\n        if (!formattingElementEntry) {\n            break;\n        }\n\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n\n        if (!furthestBlock) {\n            break;\n        }\n\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n\n        p.treeAdapter.detachNode(lastElement);\n        aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n\n//Generic token handlers\n//------------------------------------------------------------------\nfunction ignoreToken() {\n    //NOTE: do nothing =)\n}\n\nfunction misplacedDoctype(p) {\n    p._err(ERR.misplacedDoctype);\n}\n\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);\n}\n\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\n\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\n\nfunction insertCharacters(p, token) {\n    p._insertCharacters(token);\n}\n\nfunction stopParsing(p) {\n    p.stopped = true;\n}\n\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n\n    const mode = token.forceQuirks ? HTML.DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n\n    if (!doctype.isConforming(token)) {\n        p._err(ERR.nonConformingDoctype);\n    }\n\n    p.treeAdapter.setDocumentMode(p.document, mode);\n\n    p.insertionMode = BEFORE_HTML_MODE;\n}\n\nfunction tokenInInitialMode(p, token) {\n    p._err(ERR.missingDoctype, { beforeToken: true });\n    p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = BEFORE_HTML_MODE;\n    p._processToken(token);\n}\n\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagName === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = BEFORE_HEAD_MODE;\n    } else {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = BEFORE_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.HEAD) {\n        p._insertElement(token, NS.HTML);\n        p.headElement = p.openElements.current;\n        p.insertionMode = IN_HEAD_MODE;\n    } else {\n        tokenBeforeHead(p, token);\n    }\n}\n\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement($.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TITLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);\n    } else if (tn === $.NOSCRIPT) {\n        if (p.options.scriptingEnabled) {\n            p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n        } else {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;\n        }\n    } else if (tn === $.NOFRAMES || tn === $.STYLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n    } else if (tn === $.SCRIPT) {\n        p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);\n    } else if (tn === $.TEMPLATE) {\n        p._insertTemplate(token, NS.HTML);\n        p.activeFormattingElements.insertMarker();\n        p.framesetOk = false;\n        p.insertionMode = IN_TEMPLATE_MODE;\n        p._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenInHead(p, token);\n    }\n}\n\nfunction endTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD) {\n        p.openElements.pop();\n        p.insertionMode = AFTER_HEAD_MODE;\n    } else if (tn === $.BODY || tn === $.BR || tn === $.HTML) {\n        tokenInHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        if (p.openElements.tmplCount > 0) {\n            p.openElements.generateImpliedEndTagsThoroughly();\n\n            if (p.openElements.currentTagName !== $.TEMPLATE) {\n                p._err(ERR.closingOfElementWithOpenChildElements);\n            }\n\n            p.openElements.popUntilTagNamePopped($.TEMPLATE);\n            p.activeFormattingElements.clearToLastMarker();\n            p._popTmplInsertionMode();\n            p._resetInsertionMode();\n        } else {\n            p._err(ERR.endTagWithoutMatchingOpenElement);\n        }\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = AFTER_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.HEAD ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.STYLE\n    ) {\n        startTagInHead(p, token);\n    } else if (tn === $.NOSCRIPT) {\n        p._err(ERR.nestedNoscriptInHead);\n    } else {\n        tokenInHeadNoScript(p, token);\n    }\n}\n\nfunction endTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.NOSCRIPT) {\n        p.openElements.pop();\n        p.insertionMode = IN_HEAD_MODE;\n    } else if (tn === $.BR) {\n        tokenInHeadNoScript(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHeadNoScript(p, token) {\n    const errCode =\n        token.type === Tokenizer.EOF_TOKEN ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n\n    p._err(errCode);\n    p.openElements.pop();\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BODY) {\n        p._insertElement(token, NS.HTML);\n        p.framesetOk = false;\n        p.insertionMode = IN_BODY_MODE;\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    } else if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        p._err(ERR.abandonedHeadElementChild);\n        p.openElements.push(p.headElement);\n        startTagInHead(p, token);\n        p.openElements.remove(p.headElement);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenAfterHead(p, token);\n    }\n}\n\nfunction endTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenAfterHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement($.BODY);\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\n\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\n\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\n\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    }\n}\n\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    const tn = p.openElements.currentTagName;\n\n    if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n        p.openElements.pop();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\n\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n\n        p._insertElement(token, NS.HTML);\n\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\n\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n        const elementTn = p.treeAdapter.getTagName(element);\n        let closeTn = null;\n\n        if (tn === $.LI && elementTn === $.LI) {\n            closeTn = $.LI;\n        } else if ((tn === $.DD || tn === $.DT) && (elementTn === $.DD || elementTn === $.DT)) {\n            closeTn = elementTn;\n        }\n\n        if (closeTn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(closeTn);\n            p.openElements.popUntilTagNamePopped(closeTn);\n            break;\n        }\n\n        if (elementTn !== $.ADDRESS && elementTn !== $.DIV && elementTn !== $.P && p._isSpecialElement(element)) {\n            break;\n        }\n    }\n\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n}\n\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\n\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($.A);\n\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\n\nfunction tableStartTagInBody(p, token) {\n    if (\n        p.treeAdapter.getDocumentMode(p.document) !== HTML.DOCUMENT_MODE.QUIRKS &&\n        p.openElements.hasInButtonScope($.P)\n    ) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = IN_TABLE_MODE;\n}\n\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {\n        p.framesetOk = false;\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\n\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction imageStartTagInBody(p, token) {\n    token.tagName = $.IMG;\n    areaStartTagInBody(p, token);\n}\n\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = Tokenizer.MODE.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = TEXT_MODE;\n}\n\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\n//NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse\n//<noembed> as a rawtext.\nfunction noembedStartTagInBody(p, token) {\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n\n    if (\n        p.insertionMode === IN_TABLE_MODE ||\n        p.insertionMode === IN_CAPTION_MODE ||\n        p.insertionMode === IN_TABLE_BODY_MODE ||\n        p.insertionMode === IN_ROW_MODE ||\n        p.insertionMode === IN_CELL_MODE\n    ) {\n        p.insertionMode = IN_SELECT_IN_TABLE_MODE;\n    } else {\n        p.insertionMode = IN_SELECT_MODE;\n    }\n}\n\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagName === $.OPTION) {\n        p.openElements.pop();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction menuStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    } else {\n        p._insertElement(token, NS.MATHML);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    } else {\n        p._insertElement(token, NS.SVG);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction startTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.I || tn === $.S || tn === $.B || tn === $.U) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.P) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.A) {\n                aStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.OL || tn === $.UL) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderStartTagInBody(p, token);\n            } else if (tn === $.LI || tn === $.DD || tn === $.DT) {\n                listItemStartTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.BR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.HR) {\n                hrStartTagInBody(p, token);\n            } else if (tn === $.RB) {\n                rbStartTagInBody(p, token);\n            } else if (tn === $.RT || tn === $.RP) {\n                rtStartTagInBody(p, token);\n            } else if (tn !== $.TH && tn !== $.TD && tn !== $.TR) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.DIV || tn === $.DIR || tn === $.NAV) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.PRE) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.BIG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.IMG || tn === $.WBR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.XMP) {\n                xmpStartTagInBody(p, token);\n            } else if (tn === $.SVG) {\n                svgStartTagInBody(p, token);\n            } else if (tn === $.RTC) {\n                rbStartTagInBody(p, token);\n            } else if (tn !== $.COL) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.HTML) {\n                htmlStartTagInBody(p, token);\n            } else if (tn === $.BASE || tn === $.LINK || tn === $.META) {\n                startTagInHead(p, token);\n            } else if (tn === $.BODY) {\n                bodyStartTagInBody(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formStartTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.NOBR) {\n                nobrStartTagInBody(p, token);\n            } else if (tn === $.AREA) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.MATH) {\n                mathStartTagInBody(p, token);\n            } else if (tn === $.MENU) {\n                menuStartTagInBody(p, token);\n            } else if (tn !== $.HEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.STYLE || tn === $.TITLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.ASIDE) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.TABLE) {\n                tableStartTagInBody(p, token);\n            } else if (tn === $.EMBED) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInBody(p, token);\n            } else if (tn === $.PARAM || tn === $.TRACK) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IMAGE) {\n                imageStartTagInBody(p, token);\n            } else if (tn !== $.FRAME && tn !== $.TBODY && tn !== $.TFOOT && tn !== $.THEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.BUTTON) {\n                buttonStartTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.KEYGEN) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.SOURCE) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IFRAME) {\n                iframeStartTagInBody(p, token);\n            } else if (tn === $.SELECT) {\n                selectStartTagInBody(p, token);\n            } else if (tn === $.OPTION) {\n                optgroupStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.BGSOUND) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.DETAILS ||\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.LISTING) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.NOEMBED) {\n                noembedStartTagInBody(p, token);\n            } else if (tn !== $.CAPTION) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.BASEFONT) {\n                startTagInHead(p, token);\n            } else if (tn === $.FRAMESET) {\n                framesetStartTagInBody(p, token);\n            } else if (tn === $.FIELDSET) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.TEXTAREA) {\n                textareaStartTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else if (tn === $.NOSCRIPT) {\n                if (p.options.scriptingEnabled) {\n                    noembedStartTagInBody(p, token);\n                } else {\n                    genericStartTagInBody(p, token);\n                }\n            } else if (tn === $.OPTGROUP) {\n                optgroupStartTagInBody(p, token);\n            } else if (tn !== $.COLGROUP) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 9:\n            if (tn === $.PLAINTEXT) {\n                plaintextStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericStartTagInBody(p, token);\n    }\n}\n\nfunction bodyEndTagInBody(p) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n    }\n}\n\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n        p._processToken(token);\n    }\n}\n\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const formElement = p.formElement;\n\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        } else {\n            p.openElements.remove(formElement);\n        }\n    }\n}\n\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement($.P);\n    }\n\n    p._closePElement();\n}\n\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\n\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\n\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\n\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement($.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\n\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getTagName(element) === tn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tn);\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            break;\n        }\n    }\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction endTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.A || tn === $.B || tn === $.I || tn === $.S || tn === $.U) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.P) {\n                pEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.UL || tn === $.OL) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.LI) {\n                liEndTagInBody(p, token);\n            } else if (tn === $.DD || tn === $.DT) {\n                ddEndTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderEndTagInBody(p, token);\n            } else if (tn === $.BR) {\n                brEndTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.BIG) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.DIR || tn === $.DIV || tn === $.NAV || tn === $.PRE) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.BODY) {\n                bodyEndTagInBody(p, token);\n            } else if (tn === $.HTML) {\n                htmlEndTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formEndTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT || tn === $.NOBR) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.ASIDE) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletEndTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.DETAILS ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY ||\n                tn === $.LISTING\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.FIELDSET) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                endTagInHead(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericEndTagInBody(p, token);\n    }\n}\n\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStackTop > -1) {\n        eofInTemplate(p, token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    if (token.tagName === $.SCRIPT) {\n        p.pendingScript = p.openElements.current;\n    }\n\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\n\nfunction eofInText(p, token) {\n    p._err(ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    const curTn = p.openElements.currentTagName;\n\n    if (curTn === $.TABLE || curTn === $.TBODY || curTn === $.TFOOT || curTn === $.THEAD || curTn === $.TR) {\n        p.pendingCharacterTokens = [];\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = IN_TABLE_TEXT_MODE;\n        p._processToken(token);\n    } else {\n        tokenInTable(p, token);\n    }\n}\n\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_CAPTION_MODE;\n}\n\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n}\n\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.COLGROUP);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n    p._processToken(token);\n}\n\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n}\n\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.TBODY);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n    p._processToken(token);\n}\n\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processToken(token);\n    }\n}\n\nfunction inputStartTagInTable(p, token) {\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {\n        p._appendElement(token, NS.HTML);\n    } else {\n        tokenInTable(p, token);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\n\nfunction startTagInTable(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 2:\n            if (tn === $.TD || tn === $.TH || tn === $.TR) {\n                tdStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.COL) {\n                colStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.FORM) {\n                formStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.TABLE) {\n                tableStartTagInTable(p, token);\n            } else if (tn === $.STYLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n                tbodyStartTagInTable(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.CAPTION) {\n                captionStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.COLGROUP) {\n                colgroupStartTagInTable(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        default:\n            tokenInTable(p, token);\n    }\n}\n\nfunction endTagInTable(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TABLE)) {\n            p.openElements.popUntilTagNamePopped($.TABLE);\n            p._resetInsertionMode();\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.CAPTION &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        tokenInTable(p, token);\n    }\n}\n\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n\n    p.fosterParentingEnabled = true;\n    p._processTokenInBodyMode(token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\n\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\n\nfunction tokenInTableText(p, token) {\n    let i = 0;\n\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    } else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.CAPTION || tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n\n            if (tn === $.TABLE) {\n                p._processToken(token);\n            }\n        }\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.COL) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    } else {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction endTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.COLGROUP) {\n        if (p.openElements.currentTagName === $.COLGROUP) {\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (tn !== $.COL) {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagName === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = IN_TABLE_MODE;\n        p._processToken(token);\n    }\n}\n\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_ROW_MODE;\n    } else if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertFakeElement($.TR);\n        p.insertionMode = IN_ROW_MODE;\n        p._processToken(token);\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD\n    ) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH && tn !== $.TR)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableRowContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_CELL_MODE;\n        p.activeFormattingElements.insertMarker();\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TD || tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped(tn);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_ROW_MODE;\n        }\n    } else if (tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else if (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP && tn !== $.HTML) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.OPTGROUP) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.INPUT || tn === $.KEYGEN || tn === $.TEXTAREA || tn === $.SELECT) {\n        if (p.openElements.hasInSelectScope($.SELECT)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n\n            if (tn !== $.SELECT) {\n                p._processToken(token);\n            }\n        }\n    } else if (tn === $.SCRIPT || tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.OPTGROUP) {\n        const prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];\n        const prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);\n\n        if (p.openElements.currentTagName === $.OPTION && prevOpenElementTn === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.SELECT && p.openElements.hasInSelectScope($.SELECT)) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\n//12.2.5.4.17 The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        startTagInSelect(p, token);\n    }\n}\n\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p._processToken(token);\n        }\n    } else {\n        endTagInSelect(p, token);\n    }\n}\n\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        startTagInHead(p, token);\n    } else {\n        const newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;\n\n        p._popTmplInsertionMode();\n        p._pushTmplInsertionMode(newInsertionMode);\n        p.insertionMode = newInsertionMode;\n        p._processToken(token);\n    }\n}\n\nfunction endTagInTemplate(p, token) {\n    if (token.tagName === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p._popTmplInsertionMode();\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction endTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = AFTER_AFTER_BODY_MODE;\n        }\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.FRAME) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInFrameset(p, token) {\n    if (token.tagName === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n\n        if (!p.fragmentContext && p.openElements.currentTagName !== $.FRAMESET) {\n            p.insertionMode = AFTER_FRAMESET_MODE;\n        }\n    }\n}\n\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagName === $.HTML) {\n        p.insertionMode = AFTER_AFTER_FRAMESET_MODE;\n    }\n}\n\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\n\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token) && !p.fragmentContext) {\n        while (\n            p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n            !p._isIntegrationPoint(p.openElements.current)\n        ) {\n            p.openElements.pop();\n        }\n\n        p._processToken(token);\n    } else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        } else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n\n        foreignContent.adjustTokenXMLAttrs(token);\n\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        } else {\n            p._insertElement(token, currentNs);\n        }\n\n        token.ackSelfClosing = true;\n    }\n}\n\nfunction endTagInForeignContent(p, token) {\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._processToken(token);\n            break;\n        }\n\n        if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n    }\n}\n\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$parse5$lib$parser$formatting_element_list","~$module$node_modules$parse5$lib$common$html","~$module$node_modules$parse5$lib$extensions$location_info$parser_mixin","~$module$node_modules$parse5$lib$tokenizer$index","~$module$node_modules$parse5$lib$utils$mixin","~$shadow.js","~$module$node_modules$parse5$lib$tree_adapters$default","~$module$node_modules$parse5$lib$common$error_codes","~$module$node_modules$parse5$lib$parser$open_element_stack","~$module$node_modules$parse5$lib$extensions$error_reporting$parser_mixin","~$module$node_modules$parse5$lib$utils$merge_options","~$module$node_modules$parse5$lib$common$doctype","~$module$node_modules$parse5$lib$common$unicode","~$module$node_modules$parse5$lib$common$foreign_content"]],"~:properties",["^5",["activeFormattingElements","currentTmplInsertionMode","headElement","sourceCodeLocationInfo","pendingCharacterTokens","tokenizer","openElements","fragmentContext","chars","parent","originalInsertionMode","formElement","beforeElement","insertionMode","framesetOk","document","element","tmplInsertionModeStackTop","bookmark","beforeToken","skipNextNewLine","scriptingEnabled","stopped","fosterParentingEnabled","ackSelfClosing","tagName","state","tmplInsertionModeStack","pendingScript","onParseError","allowCDATA","treeAdapter","options","hasNonWhitespacePendingCharacterToken"]],"~:compiled-at",1676667638427,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$parse5$lib$parser$index.js\",\n\"lineCount\":109,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/parse5/lib/parser/index.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$parse5$lib$parser$index\\\"] = function(global,require,module,exports) {\\n'use strict';\\n\\nconst Tokenizer = require('../tokenizer');\\nconst OpenElementStack = require('./open-element-stack');\\nconst FormattingElementList = require('./formatting-element-list');\\nconst LocationInfoParserMixin = require('../extensions/location-info/parser-mixin');\\nconst ErrorReportingParserMixin = require('../extensions/error-reporting/parser-mixin');\\nconst Mixin = require('../utils/mixin');\\nconst defaultTreeAdapter = require('../tree-adapters/default');\\nconst mergeOptions = require('../utils/merge-options');\\nconst doctype = require('../common/doctype');\\nconst foreignContent = require('../common/foreign-content');\\nconst ERR = require('../common/error-codes');\\nconst unicode = require('../common/unicode');\\nconst HTML = require('../common/html');\\n\\n//Aliases\\nconst $ = HTML.TAG_NAMES;\\nconst NS = HTML.NAMESPACES;\\nconst ATTRS = HTML.ATTRS;\\n\\nconst DEFAULT_OPTIONS = {\\n    scriptingEnabled: true,\\n    sourceCodeLocationInfo: false,\\n    onParseError: null,\\n    treeAdapter: defaultTreeAdapter\\n};\\n\\n//Misc constants\\nconst HIDDEN_INPUT_TYPE = 'hidden';\\n\\n//Adoption agency loops iteration count\\nconst AA_OUTER_LOOP_ITER = 8;\\nconst AA_INNER_LOOP_ITER = 3;\\n\\n//Insertion modes\\nconst INITIAL_MODE = 'INITIAL_MODE';\\nconst BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';\\nconst BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';\\nconst IN_HEAD_MODE = 'IN_HEAD_MODE';\\nconst IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';\\nconst AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';\\nconst IN_BODY_MODE = 'IN_BODY_MODE';\\nconst TEXT_MODE = 'TEXT_MODE';\\nconst IN_TABLE_MODE = 'IN_TABLE_MODE';\\nconst IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';\\nconst IN_CAPTION_MODE = 'IN_CAPTION_MODE';\\nconst IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';\\nconst IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';\\nconst IN_ROW_MODE = 'IN_ROW_MODE';\\nconst IN_CELL_MODE = 'IN_CELL_MODE';\\nconst IN_SELECT_MODE = 'IN_SELECT_MODE';\\nconst IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';\\nconst IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';\\nconst AFTER_BODY_MODE = 'AFTER_BODY_MODE';\\nconst IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';\\nconst AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';\\nconst AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';\\nconst AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';\\n\\n//Insertion mode reset map\\nconst INSERTION_MODE_RESET_MAP = {\\n    [$.TR]: IN_ROW_MODE,\\n    [$.TBODY]: IN_TABLE_BODY_MODE,\\n    [$.THEAD]: IN_TABLE_BODY_MODE,\\n    [$.TFOOT]: IN_TABLE_BODY_MODE,\\n    [$.CAPTION]: IN_CAPTION_MODE,\\n    [$.COLGROUP]: IN_COLUMN_GROUP_MODE,\\n    [$.TABLE]: IN_TABLE_MODE,\\n    [$.BODY]: IN_BODY_MODE,\\n    [$.FRAMESET]: IN_FRAMESET_MODE\\n};\\n\\n//Template insertion mode switch map\\nconst TEMPLATE_INSERTION_MODE_SWITCH_MAP = {\\n    [$.CAPTION]: IN_TABLE_MODE,\\n    [$.COLGROUP]: IN_TABLE_MODE,\\n    [$.TBODY]: IN_TABLE_MODE,\\n    [$.TFOOT]: IN_TABLE_MODE,\\n    [$.THEAD]: IN_TABLE_MODE,\\n    [$.COL]: IN_COLUMN_GROUP_MODE,\\n    [$.TR]: IN_TABLE_BODY_MODE,\\n    [$.TD]: IN_ROW_MODE,\\n    [$.TH]: IN_ROW_MODE\\n};\\n\\n//Token handlers map for insertion modes\\nconst TOKEN_HANDLERS = {\\n    [INITIAL_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenInInitialMode,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInInitialMode,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: doctypeInInitialMode,\\n        [Tokenizer.START_TAG_TOKEN]: tokenInInitialMode,\\n        [Tokenizer.END_TAG_TOKEN]: tokenInInitialMode,\\n        [Tokenizer.EOF_TOKEN]: tokenInInitialMode\\n    },\\n    [BEFORE_HTML_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHtml,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHtml,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHtml,\\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHtml,\\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHtml\\n    },\\n    [BEFORE_HEAD_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHead,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHead,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHead,\\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHead,\\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHead\\n    },\\n    [IN_HEAD_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHead,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHead,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInHead,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInHead,\\n        [Tokenizer.EOF_TOKEN]: tokenInHead\\n    },\\n    [IN_HEAD_NO_SCRIPT_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHeadNoScript,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHeadNoScript,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInHeadNoScript,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInHeadNoScript,\\n        [Tokenizer.EOF_TOKEN]: tokenInHeadNoScript\\n    },\\n    [AFTER_HEAD_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterHead,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterHead,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterHead,\\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterHead,\\n        [Tokenizer.EOF_TOKEN]: tokenAfterHead\\n    },\\n    [IN_BODY_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInBody,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInBody,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [TEXT_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: ignoreToken,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: ignoreToken,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInText,\\n        [Tokenizer.EOF_TOKEN]: eofInText\\n    },\\n    [IN_TABLE_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInTable,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInTable,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_TABLE_TEXT_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInTableText,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInTableText,\\n        [Tokenizer.COMMENT_TOKEN]: tokenInTableText,\\n        [Tokenizer.DOCTYPE_TOKEN]: tokenInTableText,\\n        [Tokenizer.START_TAG_TOKEN]: tokenInTableText,\\n        [Tokenizer.END_TAG_TOKEN]: tokenInTableText,\\n        [Tokenizer.EOF_TOKEN]: tokenInTableText\\n    },\\n    [IN_CAPTION_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInCaption,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInCaption,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_COLUMN_GROUP_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenInColumnGroup,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInColumnGroup,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInColumnGroup,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInColumnGroup,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_TABLE_BODY_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInTableBody,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInTableBody,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_ROW_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInRow,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInRow,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_CELL_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInCell,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInCell,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_SELECT_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelect,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelect,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_SELECT_IN_TABLE_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelectInTable,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelectInTable,\\n        [Tokenizer.EOF_TOKEN]: eofInBody\\n    },\\n    [IN_TEMPLATE_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInTemplate,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInTemplate,\\n        [Tokenizer.EOF_TOKEN]: eofInTemplate\\n    },\\n    [AFTER_BODY_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterBody,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToRootHtmlElement,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterBody,\\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterBody,\\n        [Tokenizer.EOF_TOKEN]: stopParsing\\n    },\\n    [IN_FRAMESET_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagInFrameset,\\n        [Tokenizer.END_TAG_TOKEN]: endTagInFrameset,\\n        [Tokenizer.EOF_TOKEN]: stopParsing\\n    },\\n    [AFTER_FRAMESET_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterFrameset,\\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterFrameset,\\n        [Tokenizer.EOF_TOKEN]: stopParsing\\n    },\\n    [AFTER_AFTER_BODY_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterAfterBody,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterAfterBody,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterBody,\\n        [Tokenizer.END_TAG_TOKEN]: tokenAfterAfterBody,\\n        [Tokenizer.EOF_TOKEN]: stopParsing\\n    },\\n    [AFTER_AFTER_FRAMESET_MODE]: {\\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterFrameset,\\n        [Tokenizer.END_TAG_TOKEN]: ignoreToken,\\n        [Tokenizer.EOF_TOKEN]: stopParsing\\n    }\\n};\\n\\n//Parser\\nclass Parser {\\n    constructor(options) {\\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\\n\\n        this.treeAdapter = this.options.treeAdapter;\\n        this.pendingScript = null;\\n\\n        if (this.options.sourceCodeLocationInfo) {\\n            Mixin.install(this, LocationInfoParserMixin);\\n        }\\n\\n        if (this.options.onParseError) {\\n            Mixin.install(this, ErrorReportingParserMixin, { onParseError: this.options.onParseError });\\n        }\\n    }\\n\\n    // API\\n    parse(html) {\\n        const document = this.treeAdapter.createDocument();\\n\\n        this._bootstrap(document, null);\\n        this.tokenizer.write(html, true);\\n        this._runParsingLoop(null);\\n\\n        return document;\\n    }\\n\\n    parseFragment(html, fragmentContext) {\\n        //NOTE: use <template> element as a fragment context if context element was not provided,\\n        //so we will parse in \\\"forgiving\\\" manner\\n        if (!fragmentContext) {\\n            fragmentContext = this.treeAdapter.createElement($.TEMPLATE, NS.HTML, []);\\n        }\\n\\n        //NOTE: create fake element which will be used as 'document' for fragment parsing.\\n        //This is important for jsdom there 'document' can't be recreated, therefore\\n        //fragment parsing causes messing of the main `document`.\\n        const documentMock = this.treeAdapter.createElement('documentmock', NS.HTML, []);\\n\\n        this._bootstrap(documentMock, fragmentContext);\\n\\n        if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE) {\\n            this._pushTmplInsertionMode(IN_TEMPLATE_MODE);\\n        }\\n\\n        this._initTokenizerForFragmentParsing();\\n        this._insertFakeRootElement();\\n        this._resetInsertionMode();\\n        this._findFormInFragmentContext();\\n        this.tokenizer.write(html, true);\\n        this._runParsingLoop(null);\\n\\n        const rootElement = this.treeAdapter.getFirstChild(documentMock);\\n        const fragment = this.treeAdapter.createDocumentFragment();\\n\\n        this._adoptNodes(rootElement, fragment);\\n\\n        return fragment;\\n    }\\n\\n    //Bootstrap parser\\n    _bootstrap(document, fragmentContext) {\\n        this.tokenizer = new Tokenizer(this.options);\\n\\n        this.stopped = false;\\n\\n        this.insertionMode = INITIAL_MODE;\\n        this.originalInsertionMode = '';\\n\\n        this.document = document;\\n        this.fragmentContext = fragmentContext;\\n\\n        this.headElement = null;\\n        this.formElement = null;\\n\\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter);\\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\\n\\n        this.tmplInsertionModeStack = [];\\n        this.tmplInsertionModeStackTop = -1;\\n        this.currentTmplInsertionMode = null;\\n\\n        this.pendingCharacterTokens = [];\\n        this.hasNonWhitespacePendingCharacterToken = false;\\n\\n        this.framesetOk = true;\\n        this.skipNextNewLine = false;\\n        this.fosterParentingEnabled = false;\\n    }\\n\\n    //Errors\\n    _err() {\\n        // NOTE: err reporting is noop by default. Enabled by mixin.\\n    }\\n\\n    //Parsing loop\\n    _runParsingLoop(scriptHandler) {\\n        while (!this.stopped) {\\n            this._setupTokenizerCDATAMode();\\n\\n            const token = this.tokenizer.getNextToken();\\n\\n            if (token.type === Tokenizer.HIBERNATION_TOKEN) {\\n                break;\\n            }\\n\\n            if (this.skipNextNewLine) {\\n                this.skipNextNewLine = false;\\n\\n                if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\\\\n') {\\n                    if (token.chars.length === 1) {\\n                        continue;\\n                    }\\n\\n                    token.chars = token.chars.substr(1);\\n                }\\n            }\\n\\n            this._processInputToken(token);\\n\\n            if (scriptHandler && this.pendingScript) {\\n                break;\\n            }\\n        }\\n    }\\n\\n    runParsingLoopForCurrentChunk(writeCallback, scriptHandler) {\\n        this._runParsingLoop(scriptHandler);\\n\\n        if (scriptHandler && this.pendingScript) {\\n            const script = this.pendingScript;\\n\\n            this.pendingScript = null;\\n\\n            scriptHandler(script);\\n\\n            return;\\n        }\\n\\n        if (writeCallback) {\\n            writeCallback();\\n        }\\n    }\\n\\n    //Text parsing\\n    _setupTokenizerCDATAMode() {\\n        const current = this._getAdjustedCurrentElement();\\n\\n        this.tokenizer.allowCDATA =\\n            current &&\\n            current !== this.document &&\\n            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &&\\n            !this._isIntegrationPoint(current);\\n    }\\n\\n    _switchToTextParsing(currentToken, nextTokenizerState) {\\n        this._insertElement(currentToken, NS.HTML);\\n        this.tokenizer.state = nextTokenizerState;\\n        this.originalInsertionMode = this.insertionMode;\\n        this.insertionMode = TEXT_MODE;\\n    }\\n\\n    switchToPlaintextParsing() {\\n        this.insertionMode = TEXT_MODE;\\n        this.originalInsertionMode = IN_BODY_MODE;\\n        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\\n    }\\n\\n    //Fragment parsing\\n    _getAdjustedCurrentElement() {\\n        return this.openElements.stackTop === 0 && this.fragmentContext\\n            ? this.fragmentContext\\n            : this.openElements.current;\\n    }\\n\\n    _findFormInFragmentContext() {\\n        let node = this.fragmentContext;\\n\\n        do {\\n            if (this.treeAdapter.getTagName(node) === $.FORM) {\\n                this.formElement = node;\\n                break;\\n            }\\n\\n            node = this.treeAdapter.getParentNode(node);\\n        } while (node);\\n    }\\n\\n    _initTokenizerForFragmentParsing() {\\n        if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {\\n            const tn = this.treeAdapter.getTagName(this.fragmentContext);\\n\\n            if (tn === $.TITLE || tn === $.TEXTAREA) {\\n                this.tokenizer.state = Tokenizer.MODE.RCDATA;\\n            } else if (\\n                tn === $.STYLE ||\\n                tn === $.XMP ||\\n                tn === $.IFRAME ||\\n                tn === $.NOEMBED ||\\n                tn === $.NOFRAMES ||\\n                tn === $.NOSCRIPT\\n            ) {\\n                this.tokenizer.state = Tokenizer.MODE.RAWTEXT;\\n            } else if (tn === $.SCRIPT) {\\n                this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;\\n            } else if (tn === $.PLAINTEXT) {\\n                this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\\n            }\\n        }\\n    }\\n\\n    //Tree mutation\\n    _setDocumentType(token) {\\n        const name = token.name || '';\\n        const publicId = token.publicId || '';\\n        const systemId = token.systemId || '';\\n\\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\\n    }\\n\\n    _attachElementToTree(element) {\\n        if (this._shouldFosterParentOnInsertion()) {\\n            this._fosterParentElement(element);\\n        } else {\\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\\n\\n            this.treeAdapter.appendChild(parent, element);\\n        }\\n    }\\n\\n    _appendElement(token, namespaceURI) {\\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\\n\\n        this._attachElementToTree(element);\\n    }\\n\\n    _insertElement(token, namespaceURI) {\\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\\n\\n        this._attachElementToTree(element);\\n        this.openElements.push(element);\\n    }\\n\\n    _insertFakeElement(tagName) {\\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\\n\\n        this._attachElementToTree(element);\\n        this.openElements.push(element);\\n    }\\n\\n    _insertTemplate(token) {\\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\\n        const content = this.treeAdapter.createDocumentFragment();\\n\\n        this.treeAdapter.setTemplateContent(tmpl, content);\\n        this._attachElementToTree(tmpl);\\n        this.openElements.push(tmpl);\\n    }\\n\\n    _insertFakeRootElement() {\\n        const element = this.treeAdapter.createElement($.HTML, NS.HTML, []);\\n\\n        this.treeAdapter.appendChild(this.openElements.current, element);\\n        this.openElements.push(element);\\n    }\\n\\n    _appendCommentNode(token, parent) {\\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\\n\\n        this.treeAdapter.appendChild(parent, commentNode);\\n    }\\n\\n    _insertCharacters(token) {\\n        if (this._shouldFosterParentOnInsertion()) {\\n            this._fosterParentText(token.chars);\\n        } else {\\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\\n\\n            this.treeAdapter.insertText(parent, token.chars);\\n        }\\n    }\\n\\n    _adoptNodes(donor, recipient) {\\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\\n            this.treeAdapter.detachNode(child);\\n            this.treeAdapter.appendChild(recipient, child);\\n        }\\n    }\\n\\n    //Token processing\\n    _shouldProcessTokenInForeignContent(token) {\\n        const current = this._getAdjustedCurrentElement();\\n\\n        if (!current || current === this.document) {\\n            return false;\\n        }\\n\\n        const ns = this.treeAdapter.getNamespaceURI(current);\\n\\n        if (ns === NS.HTML) {\\n            return false;\\n        }\\n\\n        if (\\n            this.treeAdapter.getTagName(current) === $.ANNOTATION_XML &&\\n            ns === NS.MATHML &&\\n            token.type === Tokenizer.START_TAG_TOKEN &&\\n            token.tagName === $.SVG\\n        ) {\\n            return false;\\n        }\\n\\n        const isCharacterToken =\\n            token.type === Tokenizer.CHARACTER_TOKEN ||\\n            token.type === Tokenizer.NULL_CHARACTER_TOKEN ||\\n            token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN;\\n\\n        const isMathMLTextStartTag =\\n            token.type === Tokenizer.START_TAG_TOKEN && token.tagName !== $.MGLYPH && token.tagName !== $.MALIGNMARK;\\n\\n        if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS.MATHML)) {\\n            return false;\\n        }\\n\\n        if (\\n            (token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &&\\n            this._isIntegrationPoint(current, NS.HTML)\\n        ) {\\n            return false;\\n        }\\n\\n        return token.type !== Tokenizer.EOF_TOKEN;\\n    }\\n\\n    _processToken(token) {\\n        TOKEN_HANDLERS[this.insertionMode][token.type](this, token);\\n    }\\n\\n    _processTokenInBodyMode(token) {\\n        TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);\\n    }\\n\\n    _processTokenInForeignContent(token) {\\n        if (token.type === Tokenizer.CHARACTER_TOKEN) {\\n            characterInForeignContent(this, token);\\n        } else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN) {\\n            nullCharacterInForeignContent(this, token);\\n        } else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN) {\\n            insertCharacters(this, token);\\n        } else if (token.type === Tokenizer.COMMENT_TOKEN) {\\n            appendComment(this, token);\\n        } else if (token.type === Tokenizer.START_TAG_TOKEN) {\\n            startTagInForeignContent(this, token);\\n        } else if (token.type === Tokenizer.END_TAG_TOKEN) {\\n            endTagInForeignContent(this, token);\\n        }\\n    }\\n\\n    _processInputToken(token) {\\n        if (this._shouldProcessTokenInForeignContent(token)) {\\n            this._processTokenInForeignContent(token);\\n        } else {\\n            this._processToken(token);\\n        }\\n\\n        if (token.type === Tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {\\n            this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\\n        }\\n    }\\n\\n    //Integration points\\n    _isIntegrationPoint(element, foreignNS) {\\n        const tn = this.treeAdapter.getTagName(element);\\n        const ns = this.treeAdapter.getNamespaceURI(element);\\n        const attrs = this.treeAdapter.getAttrList(element);\\n\\n        return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);\\n    }\\n\\n    //Active formatting elements reconstruction\\n    _reconstructActiveFormattingElements() {\\n        const listLength = this.activeFormattingElements.length;\\n\\n        if (listLength) {\\n            let unopenIdx = listLength;\\n            let entry = null;\\n\\n            do {\\n                unopenIdx--;\\n                entry = this.activeFormattingElements.entries[unopenIdx];\\n\\n                if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {\\n                    unopenIdx++;\\n                    break;\\n                }\\n            } while (unopenIdx > 0);\\n\\n            for (let i = unopenIdx; i < listLength; i++) {\\n                entry = this.activeFormattingElements.entries[i];\\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\\n                entry.element = this.openElements.current;\\n            }\\n        }\\n    }\\n\\n    //Close elements\\n    _closeTableCell() {\\n        this.openElements.generateImpliedEndTags();\\n        this.openElements.popUntilTableCellPopped();\\n        this.activeFormattingElements.clearToLastMarker();\\n        this.insertionMode = IN_ROW_MODE;\\n    }\\n\\n    _closePElement() {\\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\\n        this.openElements.popUntilTagNamePopped($.P);\\n    }\\n\\n    //Insertion modes\\n    _resetInsertionMode() {\\n        for (let i = this.openElements.stackTop, last = false; i >= 0; i--) {\\n            let element = this.openElements.items[i];\\n\\n            if (i === 0) {\\n                last = true;\\n\\n                if (this.fragmentContext) {\\n                    element = this.fragmentContext;\\n                }\\n            }\\n\\n            const tn = this.treeAdapter.getTagName(element);\\n            const newInsertionMode = INSERTION_MODE_RESET_MAP[tn];\\n\\n            if (newInsertionMode) {\\n                this.insertionMode = newInsertionMode;\\n                break;\\n            } else if (!last && (tn === $.TD || tn === $.TH)) {\\n                this.insertionMode = IN_CELL_MODE;\\n                break;\\n            } else if (!last && tn === $.HEAD) {\\n                this.insertionMode = IN_HEAD_MODE;\\n                break;\\n            } else if (tn === $.SELECT) {\\n                this._resetInsertionModeForSelect(i);\\n                break;\\n            } else if (tn === $.TEMPLATE) {\\n                this.insertionMode = this.currentTmplInsertionMode;\\n                break;\\n            } else if (tn === $.HTML) {\\n                this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;\\n                break;\\n            } else if (last) {\\n                this.insertionMode = IN_BODY_MODE;\\n                break;\\n            }\\n        }\\n    }\\n\\n    _resetInsertionModeForSelect(selectIdx) {\\n        if (selectIdx > 0) {\\n            for (let i = selectIdx - 1; i > 0; i--) {\\n                const ancestor = this.openElements.items[i];\\n                const tn = this.treeAdapter.getTagName(ancestor);\\n\\n                if (tn === $.TEMPLATE) {\\n                    break;\\n                } else if (tn === $.TABLE) {\\n                    this.insertionMode = IN_SELECT_IN_TABLE_MODE;\\n                    return;\\n                }\\n            }\\n        }\\n\\n        this.insertionMode = IN_SELECT_MODE;\\n    }\\n\\n    _pushTmplInsertionMode(mode) {\\n        this.tmplInsertionModeStack.push(mode);\\n        this.tmplInsertionModeStackTop++;\\n        this.currentTmplInsertionMode = mode;\\n    }\\n\\n    _popTmplInsertionMode() {\\n        this.tmplInsertionModeStack.pop();\\n        this.tmplInsertionModeStackTop--;\\n        this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];\\n    }\\n\\n    //Foster parenting\\n    _isElementCausesFosterParenting(element) {\\n        const tn = this.treeAdapter.getTagName(element);\\n\\n        return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;\\n    }\\n\\n    _shouldFosterParentOnInsertion() {\\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);\\n    }\\n\\n    _findFosterParentingLocation() {\\n        const location = {\\n            parent: null,\\n            beforeElement: null\\n        };\\n\\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\\n            const openElement = this.openElements.items[i];\\n            const tn = this.treeAdapter.getTagName(openElement);\\n            const ns = this.treeAdapter.getNamespaceURI(openElement);\\n\\n            if (tn === $.TEMPLATE && ns === NS.HTML) {\\n                location.parent = this.treeAdapter.getTemplateContent(openElement);\\n                break;\\n            } else if (tn === $.TABLE) {\\n                location.parent = this.treeAdapter.getParentNode(openElement);\\n\\n                if (location.parent) {\\n                    location.beforeElement = openElement;\\n                } else {\\n                    location.parent = this.openElements.items[i - 1];\\n                }\\n\\n                break;\\n            }\\n        }\\n\\n        if (!location.parent) {\\n            location.parent = this.openElements.items[0];\\n        }\\n\\n        return location;\\n    }\\n\\n    _fosterParentElement(element) {\\n        const location = this._findFosterParentingLocation();\\n\\n        if (location.beforeElement) {\\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\\n        } else {\\n            this.treeAdapter.appendChild(location.parent, element);\\n        }\\n    }\\n\\n    _fosterParentText(chars) {\\n        const location = this._findFosterParentingLocation();\\n\\n        if (location.beforeElement) {\\n            this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);\\n        } else {\\n            this.treeAdapter.insertText(location.parent, chars);\\n        }\\n    }\\n\\n    //Special elements\\n    _isSpecialElement(element) {\\n        const tn = this.treeAdapter.getTagName(element);\\n        const ns = this.treeAdapter.getNamespaceURI(element);\\n\\n        return HTML.SPECIAL_ELEMENTS[ns][tn];\\n    }\\n}\\n\\nmodule.exports = Parser;\\n\\n//Adoption agency algorithm\\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\\n//------------------------------------------------------------------\\n\\n//Steps 5-8 of the algorithm\\nfunction aaObtainFormattingElementEntry(p, token) {\\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\\n\\n    if (formattingElementEntry) {\\n        if (!p.openElements.contains(formattingElementEntry.element)) {\\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\\n            formattingElementEntry = null;\\n        } else if (!p.openElements.hasInScope(token.tagName)) {\\n            formattingElementEntry = null;\\n        }\\n    } else {\\n        genericEndTagInBody(p, token);\\n    }\\n\\n    return formattingElementEntry;\\n}\\n\\n//Steps 9 and 10 of the algorithm\\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\\n    let furthestBlock = null;\\n\\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\\n        const element = p.openElements.items[i];\\n\\n        if (element === formattingElementEntry.element) {\\n            break;\\n        }\\n\\n        if (p._isSpecialElement(element)) {\\n            furthestBlock = element;\\n        }\\n    }\\n\\n    if (!furthestBlock) {\\n        p.openElements.popUntilElementPopped(formattingElementEntry.element);\\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\\n    }\\n\\n    return furthestBlock;\\n}\\n\\n//Step 13 of the algorithm\\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\\n    let lastElement = furthestBlock;\\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\\n\\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\\n        //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)\\n        nextElement = p.openElements.getCommonAncestor(element);\\n\\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\\n\\n        if (shouldRemoveFromOpenElements) {\\n            if (counterOverflow) {\\n                p.activeFormattingElements.removeEntry(elementEntry);\\n            }\\n\\n            p.openElements.remove(element);\\n        } else {\\n            element = aaRecreateElementFromEntry(p, elementEntry);\\n\\n            if (lastElement === furthestBlock) {\\n                p.activeFormattingElements.bookmark = elementEntry;\\n            }\\n\\n            p.treeAdapter.detachNode(lastElement);\\n            p.treeAdapter.appendChild(element, lastElement);\\n            lastElement = element;\\n        }\\n    }\\n\\n    return lastElement;\\n}\\n\\n//Step 13.7 of the algorithm\\nfunction aaRecreateElementFromEntry(p, elementEntry) {\\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\\n\\n    p.openElements.replace(elementEntry.element, newElement);\\n    elementEntry.element = newElement;\\n\\n    return newElement;\\n}\\n\\n//Step 14 of the algorithm\\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\\n    if (p._isElementCausesFosterParenting(commonAncestor)) {\\n        p._fosterParentElement(lastElement);\\n    } else {\\n        const tn = p.treeAdapter.getTagName(commonAncestor);\\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\\n\\n        if (tn === $.TEMPLATE && ns === NS.HTML) {\\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\\n        }\\n\\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\\n    }\\n}\\n\\n//Steps 15-19 of the algorithm\\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\\n    const token = formattingElementEntry.token;\\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\\n\\n    p._adoptNodes(furthestBlock, newElement);\\n    p.treeAdapter.appendChild(furthestBlock, newElement);\\n\\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);\\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\\n\\n    p.openElements.remove(formattingElementEntry.element);\\n    p.openElements.insertAfter(furthestBlock, newElement);\\n}\\n\\n//Algorithm entry point\\nfunction callAdoptionAgency(p, token) {\\n    let formattingElementEntry;\\n\\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\\n        formattingElementEntry = aaObtainFormattingElementEntry(p, token, formattingElementEntry);\\n\\n        if (!formattingElementEntry) {\\n            break;\\n        }\\n\\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\\n\\n        if (!furthestBlock) {\\n            break;\\n        }\\n\\n        p.activeFormattingElements.bookmark = formattingElementEntry;\\n\\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\\n\\n        p.treeAdapter.detachNode(lastElement);\\n        aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\\n    }\\n}\\n\\n//Generic token handlers\\n//------------------------------------------------------------------\\nfunction ignoreToken() {\\n    //NOTE: do nothing =)\\n}\\n\\nfunction misplacedDoctype(p) {\\n    p._err(ERR.misplacedDoctype);\\n}\\n\\nfunction appendComment(p, token) {\\n    p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);\\n}\\n\\nfunction appendCommentToRootHtmlElement(p, token) {\\n    p._appendCommentNode(token, p.openElements.items[0]);\\n}\\n\\nfunction appendCommentToDocument(p, token) {\\n    p._appendCommentNode(token, p.document);\\n}\\n\\nfunction insertCharacters(p, token) {\\n    p._insertCharacters(token);\\n}\\n\\nfunction stopParsing(p) {\\n    p.stopped = true;\\n}\\n\\n// The \\\"initial\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction doctypeInInitialMode(p, token) {\\n    p._setDocumentType(token);\\n\\n    const mode = token.forceQuirks ? HTML.DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\\n\\n    if (!doctype.isConforming(token)) {\\n        p._err(ERR.nonConformingDoctype);\\n    }\\n\\n    p.treeAdapter.setDocumentMode(p.document, mode);\\n\\n    p.insertionMode = BEFORE_HTML_MODE;\\n}\\n\\nfunction tokenInInitialMode(p, token) {\\n    p._err(ERR.missingDoctype, { beforeToken: true });\\n    p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);\\n    p.insertionMode = BEFORE_HTML_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"before html\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagBeforeHtml(p, token) {\\n    if (token.tagName === $.HTML) {\\n        p._insertElement(token, NS.HTML);\\n        p.insertionMode = BEFORE_HEAD_MODE;\\n    } else {\\n        tokenBeforeHtml(p, token);\\n    }\\n}\\n\\nfunction endTagBeforeHtml(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\\n        tokenBeforeHtml(p, token);\\n    }\\n}\\n\\nfunction tokenBeforeHtml(p, token) {\\n    p._insertFakeRootElement();\\n    p.insertionMode = BEFORE_HEAD_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"before head\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagBeforeHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.HEAD) {\\n        p._insertElement(token, NS.HTML);\\n        p.headElement = p.openElements.current;\\n        p.insertionMode = IN_HEAD_MODE;\\n    } else {\\n        tokenBeforeHead(p, token);\\n    }\\n}\\n\\nfunction endTagBeforeHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\\n        tokenBeforeHead(p, token);\\n    } else {\\n        p._err(ERR.endTagWithoutMatchingOpenElement);\\n    }\\n}\\n\\nfunction tokenBeforeHead(p, token) {\\n    p._insertFakeElement($.HEAD);\\n    p.headElement = p.openElements.current;\\n    p.insertionMode = IN_HEAD_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in head\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META) {\\n        p._appendElement(token, NS.HTML);\\n        token.ackSelfClosing = true;\\n    } else if (tn === $.TITLE) {\\n        p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);\\n    } else if (tn === $.NOSCRIPT) {\\n        if (p.options.scriptingEnabled) {\\n            p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\\n        } else {\\n            p._insertElement(token, NS.HTML);\\n            p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;\\n        }\\n    } else if (tn === $.NOFRAMES || tn === $.STYLE) {\\n        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\\n    } else if (tn === $.SCRIPT) {\\n        p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);\\n    } else if (tn === $.TEMPLATE) {\\n        p._insertTemplate(token, NS.HTML);\\n        p.activeFormattingElements.insertMarker();\\n        p.framesetOk = false;\\n        p.insertionMode = IN_TEMPLATE_MODE;\\n        p._pushTmplInsertionMode(IN_TEMPLATE_MODE);\\n    } else if (tn === $.HEAD) {\\n        p._err(ERR.misplacedStartTagForHeadElement);\\n    } else {\\n        tokenInHead(p, token);\\n    }\\n}\\n\\nfunction endTagInHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HEAD) {\\n        p.openElements.pop();\\n        p.insertionMode = AFTER_HEAD_MODE;\\n    } else if (tn === $.BODY || tn === $.BR || tn === $.HTML) {\\n        tokenInHead(p, token);\\n    } else if (tn === $.TEMPLATE) {\\n        if (p.openElements.tmplCount > 0) {\\n            p.openElements.generateImpliedEndTagsThoroughly();\\n\\n            if (p.openElements.currentTagName !== $.TEMPLATE) {\\n                p._err(ERR.closingOfElementWithOpenChildElements);\\n            }\\n\\n            p.openElements.popUntilTagNamePopped($.TEMPLATE);\\n            p.activeFormattingElements.clearToLastMarker();\\n            p._popTmplInsertionMode();\\n            p._resetInsertionMode();\\n        } else {\\n            p._err(ERR.endTagWithoutMatchingOpenElement);\\n        }\\n    } else {\\n        p._err(ERR.endTagWithoutMatchingOpenElement);\\n    }\\n}\\n\\nfunction tokenInHead(p, token) {\\n    p.openElements.pop();\\n    p.insertionMode = AFTER_HEAD_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in head no script\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInHeadNoScript(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (\\n        tn === $.BASEFONT ||\\n        tn === $.BGSOUND ||\\n        tn === $.HEAD ||\\n        tn === $.LINK ||\\n        tn === $.META ||\\n        tn === $.NOFRAMES ||\\n        tn === $.STYLE\\n    ) {\\n        startTagInHead(p, token);\\n    } else if (tn === $.NOSCRIPT) {\\n        p._err(ERR.nestedNoscriptInHead);\\n    } else {\\n        tokenInHeadNoScript(p, token);\\n    }\\n}\\n\\nfunction endTagInHeadNoScript(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.NOSCRIPT) {\\n        p.openElements.pop();\\n        p.insertionMode = IN_HEAD_MODE;\\n    } else if (tn === $.BR) {\\n        tokenInHeadNoScript(p, token);\\n    } else {\\n        p._err(ERR.endTagWithoutMatchingOpenElement);\\n    }\\n}\\n\\nfunction tokenInHeadNoScript(p, token) {\\n    const errCode =\\n        token.type === Tokenizer.EOF_TOKEN ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\\n\\n    p._err(errCode);\\n    p.openElements.pop();\\n    p.insertionMode = IN_HEAD_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"after head\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagAfterHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.BODY) {\\n        p._insertElement(token, NS.HTML);\\n        p.framesetOk = false;\\n        p.insertionMode = IN_BODY_MODE;\\n    } else if (tn === $.FRAMESET) {\\n        p._insertElement(token, NS.HTML);\\n        p.insertionMode = IN_FRAMESET_MODE;\\n    } else if (\\n        tn === $.BASE ||\\n        tn === $.BASEFONT ||\\n        tn === $.BGSOUND ||\\n        tn === $.LINK ||\\n        tn === $.META ||\\n        tn === $.NOFRAMES ||\\n        tn === $.SCRIPT ||\\n        tn === $.STYLE ||\\n        tn === $.TEMPLATE ||\\n        tn === $.TITLE\\n    ) {\\n        p._err(ERR.abandonedHeadElementChild);\\n        p.openElements.push(p.headElement);\\n        startTagInHead(p, token);\\n        p.openElements.remove(p.headElement);\\n    } else if (tn === $.HEAD) {\\n        p._err(ERR.misplacedStartTagForHeadElement);\\n    } else {\\n        tokenAfterHead(p, token);\\n    }\\n}\\n\\nfunction endTagAfterHead(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.BODY || tn === $.HTML || tn === $.BR) {\\n        tokenAfterHead(p, token);\\n    } else if (tn === $.TEMPLATE) {\\n        endTagInHead(p, token);\\n    } else {\\n        p._err(ERR.endTagWithoutMatchingOpenElement);\\n    }\\n}\\n\\nfunction tokenAfterHead(p, token) {\\n    p._insertFakeElement($.BODY);\\n    p.insertionMode = IN_BODY_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in body\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction whitespaceCharacterInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertCharacters(token);\\n}\\n\\nfunction characterInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertCharacters(token);\\n    p.framesetOk = false;\\n}\\n\\nfunction htmlStartTagInBody(p, token) {\\n    if (p.openElements.tmplCount === 0) {\\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\\n    }\\n}\\n\\nfunction bodyStartTagInBody(p, token) {\\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\\n\\n    if (bodyElement && p.openElements.tmplCount === 0) {\\n        p.framesetOk = false;\\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\\n    }\\n}\\n\\nfunction framesetStartTagInBody(p, token) {\\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\\n\\n    if (p.framesetOk && bodyElement) {\\n        p.treeAdapter.detachNode(bodyElement);\\n        p.openElements.popAllUpToHtmlElement();\\n        p._insertElement(token, NS.HTML);\\n        p.insertionMode = IN_FRAMESET_MODE;\\n    }\\n}\\n\\nfunction addressStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction numberedHeaderStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    const tn = p.openElements.currentTagName;\\n\\n    if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\\n        p.openElements.pop();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction preStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\\n    p.skipNextNewLine = true;\\n    p.framesetOk = false;\\n}\\n\\nfunction formStartTagInBody(p, token) {\\n    const inTemplate = p.openElements.tmplCount > 0;\\n\\n    if (!p.formElement || inTemplate) {\\n        if (p.openElements.hasInButtonScope($.P)) {\\n            p._closePElement();\\n        }\\n\\n        p._insertElement(token, NS.HTML);\\n\\n        if (!inTemplate) {\\n            p.formElement = p.openElements.current;\\n        }\\n    }\\n}\\n\\nfunction listItemStartTagInBody(p, token) {\\n    p.framesetOk = false;\\n\\n    const tn = token.tagName;\\n\\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\\n        const element = p.openElements.items[i];\\n        const elementTn = p.treeAdapter.getTagName(element);\\n        let closeTn = null;\\n\\n        if (tn === $.LI && elementTn === $.LI) {\\n            closeTn = $.LI;\\n        } else if ((tn === $.DD || tn === $.DT) && (elementTn === $.DD || elementTn === $.DT)) {\\n            closeTn = elementTn;\\n        }\\n\\n        if (closeTn) {\\n            p.openElements.generateImpliedEndTagsWithExclusion(closeTn);\\n            p.openElements.popUntilTagNamePopped(closeTn);\\n            break;\\n        }\\n\\n        if (elementTn !== $.ADDRESS && elementTn !== $.DIV && elementTn !== $.P && p._isSpecialElement(element)) {\\n            break;\\n        }\\n    }\\n\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction plaintextStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n    p.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\\n}\\n\\nfunction buttonStartTagInBody(p, token) {\\n    if (p.openElements.hasInScope($.BUTTON)) {\\n        p.openElements.generateImpliedEndTags();\\n        p.openElements.popUntilTagNamePopped($.BUTTON);\\n    }\\n\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n    p.framesetOk = false;\\n}\\n\\nfunction aStartTagInBody(p, token) {\\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($.A);\\n\\n    if (activeElementEntry) {\\n        callAdoptionAgency(p, token);\\n        p.openElements.remove(activeElementEntry.element);\\n        p.activeFormattingElements.removeEntry(activeElementEntry);\\n    }\\n\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\\n}\\n\\nfunction bStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\\n}\\n\\nfunction nobrStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n\\n    if (p.openElements.hasInScope($.NOBR)) {\\n        callAdoptionAgency(p, token);\\n        p._reconstructActiveFormattingElements();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\\n}\\n\\nfunction appletStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n    p.activeFormattingElements.insertMarker();\\n    p.framesetOk = false;\\n}\\n\\nfunction tableStartTagInBody(p, token) {\\n    if (\\n        p.treeAdapter.getDocumentMode(p.document) !== HTML.DOCUMENT_MODE.QUIRKS &&\\n        p.openElements.hasInButtonScope($.P)\\n    ) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n    p.framesetOk = false;\\n    p.insertionMode = IN_TABLE_MODE;\\n}\\n\\nfunction areaStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._appendElement(token, NS.HTML);\\n    p.framesetOk = false;\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction inputStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._appendElement(token, NS.HTML);\\n\\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\\n\\n    if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {\\n        p.framesetOk = false;\\n    }\\n\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction paramStartTagInBody(p, token) {\\n    p._appendElement(token, NS.HTML);\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction hrStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._appendElement(token, NS.HTML);\\n    p.framesetOk = false;\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction imageStartTagInBody(p, token) {\\n    token.tagName = $.IMG;\\n    areaStartTagInBody(p, token);\\n}\\n\\nfunction textareaStartTagInBody(p, token) {\\n    p._insertElement(token, NS.HTML);\\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\\n    p.skipNextNewLine = true;\\n    p.tokenizer.state = Tokenizer.MODE.RCDATA;\\n    p.originalInsertionMode = p.insertionMode;\\n    p.framesetOk = false;\\n    p.insertionMode = TEXT_MODE;\\n}\\n\\nfunction xmpStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._reconstructActiveFormattingElements();\\n    p.framesetOk = false;\\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\\n}\\n\\nfunction iframeStartTagInBody(p, token) {\\n    p.framesetOk = false;\\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\\n}\\n\\n//NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse\\n//<noembed> as a rawtext.\\nfunction noembedStartTagInBody(p, token) {\\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\\n}\\n\\nfunction selectStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n    p.framesetOk = false;\\n\\n    if (\\n        p.insertionMode === IN_TABLE_MODE ||\\n        p.insertionMode === IN_CAPTION_MODE ||\\n        p.insertionMode === IN_TABLE_BODY_MODE ||\\n        p.insertionMode === IN_ROW_MODE ||\\n        p.insertionMode === IN_CELL_MODE\\n    ) {\\n        p.insertionMode = IN_SELECT_IN_TABLE_MODE;\\n    } else {\\n        p.insertionMode = IN_SELECT_MODE;\\n    }\\n}\\n\\nfunction optgroupStartTagInBody(p, token) {\\n    if (p.openElements.currentTagName === $.OPTION) {\\n        p.openElements.pop();\\n    }\\n\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction rbStartTagInBody(p, token) {\\n    if (p.openElements.hasInScope($.RUBY)) {\\n        p.openElements.generateImpliedEndTags();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction rtStartTagInBody(p, token) {\\n    if (p.openElements.hasInScope($.RUBY)) {\\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction menuStartTagInBody(p, token) {\\n    if (p.openElements.hasInButtonScope($.P)) {\\n        p._closePElement();\\n    }\\n\\n    p._insertElement(token, NS.HTML);\\n}\\n\\nfunction mathStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n\\n    foreignContent.adjustTokenMathMLAttrs(token);\\n    foreignContent.adjustTokenXMLAttrs(token);\\n\\n    if (token.selfClosing) {\\n        p._appendElement(token, NS.MATHML);\\n    } else {\\n        p._insertElement(token, NS.MATHML);\\n    }\\n\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction svgStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n\\n    foreignContent.adjustTokenSVGAttrs(token);\\n    foreignContent.adjustTokenXMLAttrs(token);\\n\\n    if (token.selfClosing) {\\n        p._appendElement(token, NS.SVG);\\n    } else {\\n        p._insertElement(token, NS.SVG);\\n    }\\n\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction genericStartTagInBody(p, token) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertElement(token, NS.HTML);\\n}\\n\\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\\n//It's faster than using dictionary.\\nfunction startTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    switch (tn.length) {\\n        case 1:\\n            if (tn === $.I || tn === $.S || tn === $.B || tn === $.U) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.P) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.A) {\\n                aStartTagInBody(p, token);\\n            } else {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 2:\\n            if (tn === $.DL || tn === $.OL || tn === $.UL) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\\n                numberedHeaderStartTagInBody(p, token);\\n            } else if (tn === $.LI || tn === $.DD || tn === $.DT) {\\n                listItemStartTagInBody(p, token);\\n            } else if (tn === $.EM || tn === $.TT) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.BR) {\\n                areaStartTagInBody(p, token);\\n            } else if (tn === $.HR) {\\n                hrStartTagInBody(p, token);\\n            } else if (tn === $.RB) {\\n                rbStartTagInBody(p, token);\\n            } else if (tn === $.RT || tn === $.RP) {\\n                rtStartTagInBody(p, token);\\n            } else if (tn !== $.TH && tn !== $.TD && tn !== $.TR) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 3:\\n            if (tn === $.DIV || tn === $.DIR || tn === $.NAV) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.PRE) {\\n                preStartTagInBody(p, token);\\n            } else if (tn === $.BIG) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.IMG || tn === $.WBR) {\\n                areaStartTagInBody(p, token);\\n            } else if (tn === $.XMP) {\\n                xmpStartTagInBody(p, token);\\n            } else if (tn === $.SVG) {\\n                svgStartTagInBody(p, token);\\n            } else if (tn === $.RTC) {\\n                rbStartTagInBody(p, token);\\n            } else if (tn !== $.COL) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 4:\\n            if (tn === $.HTML) {\\n                htmlStartTagInBody(p, token);\\n            } else if (tn === $.BASE || tn === $.LINK || tn === $.META) {\\n                startTagInHead(p, token);\\n            } else if (tn === $.BODY) {\\n                bodyStartTagInBody(p, token);\\n            } else if (tn === $.MAIN || tn === $.MENU) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.FORM) {\\n                formStartTagInBody(p, token);\\n            } else if (tn === $.CODE || tn === $.FONT) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.NOBR) {\\n                nobrStartTagInBody(p, token);\\n            } else if (tn === $.AREA) {\\n                areaStartTagInBody(p, token);\\n            } else if (tn === $.MATH) {\\n                mathStartTagInBody(p, token);\\n            } else if (tn === $.MENU) {\\n                menuStartTagInBody(p, token);\\n            } else if (tn !== $.HEAD) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 5:\\n            if (tn === $.STYLE || tn === $.TITLE) {\\n                startTagInHead(p, token);\\n            } else if (tn === $.ASIDE) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.SMALL) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.TABLE) {\\n                tableStartTagInBody(p, token);\\n            } else if (tn === $.EMBED) {\\n                areaStartTagInBody(p, token);\\n            } else if (tn === $.INPUT) {\\n                inputStartTagInBody(p, token);\\n            } else if (tn === $.PARAM || tn === $.TRACK) {\\n                paramStartTagInBody(p, token);\\n            } else if (tn === $.IMAGE) {\\n                imageStartTagInBody(p, token);\\n            } else if (tn !== $.FRAME && tn !== $.TBODY && tn !== $.TFOOT && tn !== $.THEAD) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 6:\\n            if (tn === $.SCRIPT) {\\n                startTagInHead(p, token);\\n            } else if (\\n                tn === $.CENTER ||\\n                tn === $.FIGURE ||\\n                tn === $.FOOTER ||\\n                tn === $.HEADER ||\\n                tn === $.HGROUP ||\\n                tn === $.DIALOG\\n            ) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.BUTTON) {\\n                buttonStartTagInBody(p, token);\\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\\n                bStartTagInBody(p, token);\\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\\n                appletStartTagInBody(p, token);\\n            } else if (tn === $.KEYGEN) {\\n                areaStartTagInBody(p, token);\\n            } else if (tn === $.SOURCE) {\\n                paramStartTagInBody(p, token);\\n            } else if (tn === $.IFRAME) {\\n                iframeStartTagInBody(p, token);\\n            } else if (tn === $.SELECT) {\\n                selectStartTagInBody(p, token);\\n            } else if (tn === $.OPTION) {\\n                optgroupStartTagInBody(p, token);\\n            } else {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 7:\\n            if (tn === $.BGSOUND) {\\n                startTagInHead(p, token);\\n            } else if (\\n                tn === $.DETAILS ||\\n                tn === $.ADDRESS ||\\n                tn === $.ARTICLE ||\\n                tn === $.SECTION ||\\n                tn === $.SUMMARY\\n            ) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.LISTING) {\\n                preStartTagInBody(p, token);\\n            } else if (tn === $.MARQUEE) {\\n                appletStartTagInBody(p, token);\\n            } else if (tn === $.NOEMBED) {\\n                noembedStartTagInBody(p, token);\\n            } else if (tn !== $.CAPTION) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 8:\\n            if (tn === $.BASEFONT) {\\n                startTagInHead(p, token);\\n            } else if (tn === $.FRAMESET) {\\n                framesetStartTagInBody(p, token);\\n            } else if (tn === $.FIELDSET) {\\n                addressStartTagInBody(p, token);\\n            } else if (tn === $.TEXTAREA) {\\n                textareaStartTagInBody(p, token);\\n            } else if (tn === $.TEMPLATE) {\\n                startTagInHead(p, token);\\n            } else if (tn === $.NOSCRIPT) {\\n                if (p.options.scriptingEnabled) {\\n                    noembedStartTagInBody(p, token);\\n                } else {\\n                    genericStartTagInBody(p, token);\\n                }\\n            } else if (tn === $.OPTGROUP) {\\n                optgroupStartTagInBody(p, token);\\n            } else if (tn !== $.COLGROUP) {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 9:\\n            if (tn === $.PLAINTEXT) {\\n                plaintextStartTagInBody(p, token);\\n            } else {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 10:\\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\\n                addressStartTagInBody(p, token);\\n            } else {\\n                genericStartTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        default:\\n            genericStartTagInBody(p, token);\\n    }\\n}\\n\\nfunction bodyEndTagInBody(p) {\\n    if (p.openElements.hasInScope($.BODY)) {\\n        p.insertionMode = AFTER_BODY_MODE;\\n    }\\n}\\n\\nfunction htmlEndTagInBody(p, token) {\\n    if (p.openElements.hasInScope($.BODY)) {\\n        p.insertionMode = AFTER_BODY_MODE;\\n        p._processToken(token);\\n    }\\n}\\n\\nfunction addressEndTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    if (p.openElements.hasInScope(tn)) {\\n        p.openElements.generateImpliedEndTags();\\n        p.openElements.popUntilTagNamePopped(tn);\\n    }\\n}\\n\\nfunction formEndTagInBody(p) {\\n    const inTemplate = p.openElements.tmplCount > 0;\\n    const formElement = p.formElement;\\n\\n    if (!inTemplate) {\\n        p.formElement = null;\\n    }\\n\\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\\n        p.openElements.generateImpliedEndTags();\\n\\n        if (inTemplate) {\\n            p.openElements.popUntilTagNamePopped($.FORM);\\n        } else {\\n            p.openElements.remove(formElement);\\n        }\\n    }\\n}\\n\\nfunction pEndTagInBody(p) {\\n    if (!p.openElements.hasInButtonScope($.P)) {\\n        p._insertFakeElement($.P);\\n    }\\n\\n    p._closePElement();\\n}\\n\\nfunction liEndTagInBody(p) {\\n    if (p.openElements.hasInListItemScope($.LI)) {\\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\\n        p.openElements.popUntilTagNamePopped($.LI);\\n    }\\n}\\n\\nfunction ddEndTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    if (p.openElements.hasInScope(tn)) {\\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\\n        p.openElements.popUntilTagNamePopped(tn);\\n    }\\n}\\n\\nfunction numberedHeaderEndTagInBody(p) {\\n    if (p.openElements.hasNumberedHeaderInScope()) {\\n        p.openElements.generateImpliedEndTags();\\n        p.openElements.popUntilNumberedHeaderPopped();\\n    }\\n}\\n\\nfunction appletEndTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    if (p.openElements.hasInScope(tn)) {\\n        p.openElements.generateImpliedEndTags();\\n        p.openElements.popUntilTagNamePopped(tn);\\n        p.activeFormattingElements.clearToLastMarker();\\n    }\\n}\\n\\nfunction brEndTagInBody(p) {\\n    p._reconstructActiveFormattingElements();\\n    p._insertFakeElement($.BR);\\n    p.openElements.pop();\\n    p.framesetOk = false;\\n}\\n\\nfunction genericEndTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    for (let i = p.openElements.stackTop; i > 0; i--) {\\n        const element = p.openElements.items[i];\\n\\n        if (p.treeAdapter.getTagName(element) === tn) {\\n            p.openElements.generateImpliedEndTagsWithExclusion(tn);\\n            p.openElements.popUntilElementPopped(element);\\n            break;\\n        }\\n\\n        if (p._isSpecialElement(element)) {\\n            break;\\n        }\\n    }\\n}\\n\\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\\n//It's faster than using dictionary.\\nfunction endTagInBody(p, token) {\\n    const tn = token.tagName;\\n\\n    switch (tn.length) {\\n        case 1:\\n            if (tn === $.A || tn === $.B || tn === $.I || tn === $.S || tn === $.U) {\\n                callAdoptionAgency(p, token);\\n            } else if (tn === $.P) {\\n                pEndTagInBody(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 2:\\n            if (tn === $.DL || tn === $.UL || tn === $.OL) {\\n                addressEndTagInBody(p, token);\\n            } else if (tn === $.LI) {\\n                liEndTagInBody(p, token);\\n            } else if (tn === $.DD || tn === $.DT) {\\n                ddEndTagInBody(p, token);\\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\\n                numberedHeaderEndTagInBody(p, token);\\n            } else if (tn === $.BR) {\\n                brEndTagInBody(p, token);\\n            } else if (tn === $.EM || tn === $.TT) {\\n                callAdoptionAgency(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 3:\\n            if (tn === $.BIG) {\\n                callAdoptionAgency(p, token);\\n            } else if (tn === $.DIR || tn === $.DIV || tn === $.NAV || tn === $.PRE) {\\n                addressEndTagInBody(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 4:\\n            if (tn === $.BODY) {\\n                bodyEndTagInBody(p, token);\\n            } else if (tn === $.HTML) {\\n                htmlEndTagInBody(p, token);\\n            } else if (tn === $.FORM) {\\n                formEndTagInBody(p, token);\\n            } else if (tn === $.CODE || tn === $.FONT || tn === $.NOBR) {\\n                callAdoptionAgency(p, token);\\n            } else if (tn === $.MAIN || tn === $.MENU) {\\n                addressEndTagInBody(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 5:\\n            if (tn === $.ASIDE) {\\n                addressEndTagInBody(p, token);\\n            } else if (tn === $.SMALL) {\\n                callAdoptionAgency(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 6:\\n            if (\\n                tn === $.CENTER ||\\n                tn === $.FIGURE ||\\n                tn === $.FOOTER ||\\n                tn === $.HEADER ||\\n                tn === $.HGROUP ||\\n                tn === $.DIALOG\\n            ) {\\n                addressEndTagInBody(p, token);\\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\\n                appletEndTagInBody(p, token);\\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\\n                callAdoptionAgency(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 7:\\n            if (\\n                tn === $.ADDRESS ||\\n                tn === $.ARTICLE ||\\n                tn === $.DETAILS ||\\n                tn === $.SECTION ||\\n                tn === $.SUMMARY ||\\n                tn === $.LISTING\\n            ) {\\n                addressEndTagInBody(p, token);\\n            } else if (tn === $.MARQUEE) {\\n                appletEndTagInBody(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 8:\\n            if (tn === $.FIELDSET) {\\n                addressEndTagInBody(p, token);\\n            } else if (tn === $.TEMPLATE) {\\n                endTagInHead(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        case 10:\\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\\n                addressEndTagInBody(p, token);\\n            } else {\\n                genericEndTagInBody(p, token);\\n            }\\n\\n            break;\\n\\n        default:\\n            genericEndTagInBody(p, token);\\n    }\\n}\\n\\nfunction eofInBody(p, token) {\\n    if (p.tmplInsertionModeStackTop > -1) {\\n        eofInTemplate(p, token);\\n    } else {\\n        p.stopped = true;\\n    }\\n}\\n\\n// The \\\"text\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction endTagInText(p, token) {\\n    if (token.tagName === $.SCRIPT) {\\n        p.pendingScript = p.openElements.current;\\n    }\\n\\n    p.openElements.pop();\\n    p.insertionMode = p.originalInsertionMode;\\n}\\n\\nfunction eofInText(p, token) {\\n    p._err(ERR.eofInElementThatCanContainOnlyText);\\n    p.openElements.pop();\\n    p.insertionMode = p.originalInsertionMode;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in table\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction characterInTable(p, token) {\\n    const curTn = p.openElements.currentTagName;\\n\\n    if (curTn === $.TABLE || curTn === $.TBODY || curTn === $.TFOOT || curTn === $.THEAD || curTn === $.TR) {\\n        p.pendingCharacterTokens = [];\\n        p.hasNonWhitespacePendingCharacterToken = false;\\n        p.originalInsertionMode = p.insertionMode;\\n        p.insertionMode = IN_TABLE_TEXT_MODE;\\n        p._processToken(token);\\n    } else {\\n        tokenInTable(p, token);\\n    }\\n}\\n\\nfunction captionStartTagInTable(p, token) {\\n    p.openElements.clearBackToTableContext();\\n    p.activeFormattingElements.insertMarker();\\n    p._insertElement(token, NS.HTML);\\n    p.insertionMode = IN_CAPTION_MODE;\\n}\\n\\nfunction colgroupStartTagInTable(p, token) {\\n    p.openElements.clearBackToTableContext();\\n    p._insertElement(token, NS.HTML);\\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\\n}\\n\\nfunction colStartTagInTable(p, token) {\\n    p.openElements.clearBackToTableContext();\\n    p._insertFakeElement($.COLGROUP);\\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\\n    p._processToken(token);\\n}\\n\\nfunction tbodyStartTagInTable(p, token) {\\n    p.openElements.clearBackToTableContext();\\n    p._insertElement(token, NS.HTML);\\n    p.insertionMode = IN_TABLE_BODY_MODE;\\n}\\n\\nfunction tdStartTagInTable(p, token) {\\n    p.openElements.clearBackToTableContext();\\n    p._insertFakeElement($.TBODY);\\n    p.insertionMode = IN_TABLE_BODY_MODE;\\n    p._processToken(token);\\n}\\n\\nfunction tableStartTagInTable(p, token) {\\n    if (p.openElements.hasInTableScope($.TABLE)) {\\n        p.openElements.popUntilTagNamePopped($.TABLE);\\n        p._resetInsertionMode();\\n        p._processToken(token);\\n    }\\n}\\n\\nfunction inputStartTagInTable(p, token) {\\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\\n\\n    if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {\\n        p._appendElement(token, NS.HTML);\\n    } else {\\n        tokenInTable(p, token);\\n    }\\n\\n    token.ackSelfClosing = true;\\n}\\n\\nfunction formStartTagInTable(p, token) {\\n    if (!p.formElement && p.openElements.tmplCount === 0) {\\n        p._insertElement(token, NS.HTML);\\n        p.formElement = p.openElements.current;\\n        p.openElements.pop();\\n    }\\n}\\n\\nfunction startTagInTable(p, token) {\\n    const tn = token.tagName;\\n\\n    switch (tn.length) {\\n        case 2:\\n            if (tn === $.TD || tn === $.TH || tn === $.TR) {\\n                tdStartTagInTable(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 3:\\n            if (tn === $.COL) {\\n                colStartTagInTable(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 4:\\n            if (tn === $.FORM) {\\n                formStartTagInTable(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 5:\\n            if (tn === $.TABLE) {\\n                tableStartTagInTable(p, token);\\n            } else if (tn === $.STYLE) {\\n                startTagInHead(p, token);\\n            } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\\n                tbodyStartTagInTable(p, token);\\n            } else if (tn === $.INPUT) {\\n                inputStartTagInTable(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 6:\\n            if (tn === $.SCRIPT) {\\n                startTagInHead(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 7:\\n            if (tn === $.CAPTION) {\\n                captionStartTagInTable(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        case 8:\\n            if (tn === $.COLGROUP) {\\n                colgroupStartTagInTable(p, token);\\n            } else if (tn === $.TEMPLATE) {\\n                startTagInHead(p, token);\\n            } else {\\n                tokenInTable(p, token);\\n            }\\n\\n            break;\\n\\n        default:\\n            tokenInTable(p, token);\\n    }\\n}\\n\\nfunction endTagInTable(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TABLE) {\\n        if (p.openElements.hasInTableScope($.TABLE)) {\\n            p.openElements.popUntilTagNamePopped($.TABLE);\\n            p._resetInsertionMode();\\n        }\\n    } else if (tn === $.TEMPLATE) {\\n        endTagInHead(p, token);\\n    } else if (\\n        tn !== $.BODY &&\\n        tn !== $.CAPTION &&\\n        tn !== $.COL &&\\n        tn !== $.COLGROUP &&\\n        tn !== $.HTML &&\\n        tn !== $.TBODY &&\\n        tn !== $.TD &&\\n        tn !== $.TFOOT &&\\n        tn !== $.TH &&\\n        tn !== $.THEAD &&\\n        tn !== $.TR\\n    ) {\\n        tokenInTable(p, token);\\n    }\\n}\\n\\nfunction tokenInTable(p, token) {\\n    const savedFosterParentingState = p.fosterParentingEnabled;\\n\\n    p.fosterParentingEnabled = true;\\n    p._processTokenInBodyMode(token);\\n    p.fosterParentingEnabled = savedFosterParentingState;\\n}\\n\\n// The \\\"in table text\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction whitespaceCharacterInTableText(p, token) {\\n    p.pendingCharacterTokens.push(token);\\n}\\n\\nfunction characterInTableText(p, token) {\\n    p.pendingCharacterTokens.push(token);\\n    p.hasNonWhitespacePendingCharacterToken = true;\\n}\\n\\nfunction tokenInTableText(p, token) {\\n    let i = 0;\\n\\n    if (p.hasNonWhitespacePendingCharacterToken) {\\n        for (; i < p.pendingCharacterTokens.length; i++) {\\n            tokenInTable(p, p.pendingCharacterTokens[i]);\\n        }\\n    } else {\\n        for (; i < p.pendingCharacterTokens.length; i++) {\\n            p._insertCharacters(p.pendingCharacterTokens[i]);\\n        }\\n    }\\n\\n    p.insertionMode = p.originalInsertionMode;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in caption\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInCaption(p, token) {\\n    const tn = token.tagName;\\n\\n    if (\\n        tn === $.CAPTION ||\\n        tn === $.COL ||\\n        tn === $.COLGROUP ||\\n        tn === $.TBODY ||\\n        tn === $.TD ||\\n        tn === $.TFOOT ||\\n        tn === $.TH ||\\n        tn === $.THEAD ||\\n        tn === $.TR\\n    ) {\\n        if (p.openElements.hasInTableScope($.CAPTION)) {\\n            p.openElements.generateImpliedEndTags();\\n            p.openElements.popUntilTagNamePopped($.CAPTION);\\n            p.activeFormattingElements.clearToLastMarker();\\n            p.insertionMode = IN_TABLE_MODE;\\n            p._processToken(token);\\n        }\\n    } else {\\n        startTagInBody(p, token);\\n    }\\n}\\n\\nfunction endTagInCaption(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.CAPTION || tn === $.TABLE) {\\n        if (p.openElements.hasInTableScope($.CAPTION)) {\\n            p.openElements.generateImpliedEndTags();\\n            p.openElements.popUntilTagNamePopped($.CAPTION);\\n            p.activeFormattingElements.clearToLastMarker();\\n            p.insertionMode = IN_TABLE_MODE;\\n\\n            if (tn === $.TABLE) {\\n                p._processToken(token);\\n            }\\n        }\\n    } else if (\\n        tn !== $.BODY &&\\n        tn !== $.COL &&\\n        tn !== $.COLGROUP &&\\n        tn !== $.HTML &&\\n        tn !== $.TBODY &&\\n        tn !== $.TD &&\\n        tn !== $.TFOOT &&\\n        tn !== $.TH &&\\n        tn !== $.THEAD &&\\n        tn !== $.TR\\n    ) {\\n        endTagInBody(p, token);\\n    }\\n}\\n\\n// The \\\"in column group\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInColumnGroup(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.COL) {\\n        p._appendElement(token, NS.HTML);\\n        token.ackSelfClosing = true;\\n    } else if (tn === $.TEMPLATE) {\\n        startTagInHead(p, token);\\n    } else {\\n        tokenInColumnGroup(p, token);\\n    }\\n}\\n\\nfunction endTagInColumnGroup(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.COLGROUP) {\\n        if (p.openElements.currentTagName === $.COLGROUP) {\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_MODE;\\n        }\\n    } else if (tn === $.TEMPLATE) {\\n        endTagInHead(p, token);\\n    } else if (tn !== $.COL) {\\n        tokenInColumnGroup(p, token);\\n    }\\n}\\n\\nfunction tokenInColumnGroup(p, token) {\\n    if (p.openElements.currentTagName === $.COLGROUP) {\\n        p.openElements.pop();\\n        p.insertionMode = IN_TABLE_MODE;\\n        p._processToken(token);\\n    }\\n}\\n\\n// The \\\"in table body\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInTableBody(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TR) {\\n        p.openElements.clearBackToTableBodyContext();\\n        p._insertElement(token, NS.HTML);\\n        p.insertionMode = IN_ROW_MODE;\\n    } else if (tn === $.TH || tn === $.TD) {\\n        p.openElements.clearBackToTableBodyContext();\\n        p._insertFakeElement($.TR);\\n        p.insertionMode = IN_ROW_MODE;\\n        p._processToken(token);\\n    } else if (\\n        tn === $.CAPTION ||\\n        tn === $.COL ||\\n        tn === $.COLGROUP ||\\n        tn === $.TBODY ||\\n        tn === $.TFOOT ||\\n        tn === $.THEAD\\n    ) {\\n        if (p.openElements.hasTableBodyContextInTableScope()) {\\n            p.openElements.clearBackToTableBodyContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_MODE;\\n            p._processToken(token);\\n        }\\n    } else {\\n        startTagInTable(p, token);\\n    }\\n}\\n\\nfunction endTagInTableBody(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\\n        if (p.openElements.hasInTableScope(tn)) {\\n            p.openElements.clearBackToTableBodyContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_MODE;\\n        }\\n    } else if (tn === $.TABLE) {\\n        if (p.openElements.hasTableBodyContextInTableScope()) {\\n            p.openElements.clearBackToTableBodyContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_MODE;\\n            p._processToken(token);\\n        }\\n    } else if (\\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH && tn !== $.TR)\\n    ) {\\n        endTagInTable(p, token);\\n    }\\n}\\n\\n// The \\\"in row\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInRow(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TH || tn === $.TD) {\\n        p.openElements.clearBackToTableRowContext();\\n        p._insertElement(token, NS.HTML);\\n        p.insertionMode = IN_CELL_MODE;\\n        p.activeFormattingElements.insertMarker();\\n    } else if (\\n        tn === $.CAPTION ||\\n        tn === $.COL ||\\n        tn === $.COLGROUP ||\\n        tn === $.TBODY ||\\n        tn === $.TFOOT ||\\n        tn === $.THEAD ||\\n        tn === $.TR\\n    ) {\\n        if (p.openElements.hasInTableScope($.TR)) {\\n            p.openElements.clearBackToTableRowContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_BODY_MODE;\\n            p._processToken(token);\\n        }\\n    } else {\\n        startTagInTable(p, token);\\n    }\\n}\\n\\nfunction endTagInRow(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TR) {\\n        if (p.openElements.hasInTableScope($.TR)) {\\n            p.openElements.clearBackToTableRowContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_BODY_MODE;\\n        }\\n    } else if (tn === $.TABLE) {\\n        if (p.openElements.hasInTableScope($.TR)) {\\n            p.openElements.clearBackToTableRowContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_BODY_MODE;\\n            p._processToken(token);\\n        }\\n    } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\\n        if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($.TR)) {\\n            p.openElements.clearBackToTableRowContext();\\n            p.openElements.pop();\\n            p.insertionMode = IN_TABLE_BODY_MODE;\\n            p._processToken(token);\\n        }\\n    } else if (\\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH)\\n    ) {\\n        endTagInTable(p, token);\\n    }\\n}\\n\\n// The \\\"in cell\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInCell(p, token) {\\n    const tn = token.tagName;\\n\\n    if (\\n        tn === $.CAPTION ||\\n        tn === $.COL ||\\n        tn === $.COLGROUP ||\\n        tn === $.TBODY ||\\n        tn === $.TD ||\\n        tn === $.TFOOT ||\\n        tn === $.TH ||\\n        tn === $.THEAD ||\\n        tn === $.TR\\n    ) {\\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\\n            p._closeTableCell();\\n            p._processToken(token);\\n        }\\n    } else {\\n        startTagInBody(p, token);\\n    }\\n}\\n\\nfunction endTagInCell(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.TD || tn === $.TH) {\\n        if (p.openElements.hasInTableScope(tn)) {\\n            p.openElements.generateImpliedEndTags();\\n            p.openElements.popUntilTagNamePopped(tn);\\n            p.activeFormattingElements.clearToLastMarker();\\n            p.insertionMode = IN_ROW_MODE;\\n        }\\n    } else if (tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR) {\\n        if (p.openElements.hasInTableScope(tn)) {\\n            p._closeTableCell();\\n            p._processToken(token);\\n        }\\n    } else if (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP && tn !== $.HTML) {\\n        endTagInBody(p, token);\\n    }\\n}\\n\\n// The \\\"in select\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInSelect(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.OPTION) {\\n        if (p.openElements.currentTagName === $.OPTION) {\\n            p.openElements.pop();\\n        }\\n\\n        p._insertElement(token, NS.HTML);\\n    } else if (tn === $.OPTGROUP) {\\n        if (p.openElements.currentTagName === $.OPTION) {\\n            p.openElements.pop();\\n        }\\n\\n        if (p.openElements.currentTagName === $.OPTGROUP) {\\n            p.openElements.pop();\\n        }\\n\\n        p._insertElement(token, NS.HTML);\\n    } else if (tn === $.INPUT || tn === $.KEYGEN || tn === $.TEXTAREA || tn === $.SELECT) {\\n        if (p.openElements.hasInSelectScope($.SELECT)) {\\n            p.openElements.popUntilTagNamePopped($.SELECT);\\n            p._resetInsertionMode();\\n\\n            if (tn !== $.SELECT) {\\n                p._processToken(token);\\n            }\\n        }\\n    } else if (tn === $.SCRIPT || tn === $.TEMPLATE) {\\n        startTagInHead(p, token);\\n    }\\n}\\n\\nfunction endTagInSelect(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.OPTGROUP) {\\n        const prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];\\n        const prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);\\n\\n        if (p.openElements.currentTagName === $.OPTION && prevOpenElementTn === $.OPTGROUP) {\\n            p.openElements.pop();\\n        }\\n\\n        if (p.openElements.currentTagName === $.OPTGROUP) {\\n            p.openElements.pop();\\n        }\\n    } else if (tn === $.OPTION) {\\n        if (p.openElements.currentTagName === $.OPTION) {\\n            p.openElements.pop();\\n        }\\n    } else if (tn === $.SELECT && p.openElements.hasInSelectScope($.SELECT)) {\\n        p.openElements.popUntilTagNamePopped($.SELECT);\\n        p._resetInsertionMode();\\n    } else if (tn === $.TEMPLATE) {\\n        endTagInHead(p, token);\\n    }\\n}\\n\\n//12.2.5.4.17 The \\\"in select in table\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInSelectInTable(p, token) {\\n    const tn = token.tagName;\\n\\n    if (\\n        tn === $.CAPTION ||\\n        tn === $.TABLE ||\\n        tn === $.TBODY ||\\n        tn === $.TFOOT ||\\n        tn === $.THEAD ||\\n        tn === $.TR ||\\n        tn === $.TD ||\\n        tn === $.TH\\n    ) {\\n        p.openElements.popUntilTagNamePopped($.SELECT);\\n        p._resetInsertionMode();\\n        p._processToken(token);\\n    } else {\\n        startTagInSelect(p, token);\\n    }\\n}\\n\\nfunction endTagInSelectInTable(p, token) {\\n    const tn = token.tagName;\\n\\n    if (\\n        tn === $.CAPTION ||\\n        tn === $.TABLE ||\\n        tn === $.TBODY ||\\n        tn === $.TFOOT ||\\n        tn === $.THEAD ||\\n        tn === $.TR ||\\n        tn === $.TD ||\\n        tn === $.TH\\n    ) {\\n        if (p.openElements.hasInTableScope(tn)) {\\n            p.openElements.popUntilTagNamePopped($.SELECT);\\n            p._resetInsertionMode();\\n            p._processToken(token);\\n        }\\n    } else {\\n        endTagInSelect(p, token);\\n    }\\n}\\n\\n// The \\\"in template\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInTemplate(p, token) {\\n    const tn = token.tagName;\\n\\n    if (\\n        tn === $.BASE ||\\n        tn === $.BASEFONT ||\\n        tn === $.BGSOUND ||\\n        tn === $.LINK ||\\n        tn === $.META ||\\n        tn === $.NOFRAMES ||\\n        tn === $.SCRIPT ||\\n        tn === $.STYLE ||\\n        tn === $.TEMPLATE ||\\n        tn === $.TITLE\\n    ) {\\n        startTagInHead(p, token);\\n    } else {\\n        const newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;\\n\\n        p._popTmplInsertionMode();\\n        p._pushTmplInsertionMode(newInsertionMode);\\n        p.insertionMode = newInsertionMode;\\n        p._processToken(token);\\n    }\\n}\\n\\nfunction endTagInTemplate(p, token) {\\n    if (token.tagName === $.TEMPLATE) {\\n        endTagInHead(p, token);\\n    }\\n}\\n\\nfunction eofInTemplate(p, token) {\\n    if (p.openElements.tmplCount > 0) {\\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\\n        p.activeFormattingElements.clearToLastMarker();\\n        p._popTmplInsertionMode();\\n        p._resetInsertionMode();\\n        p._processToken(token);\\n    } else {\\n        p.stopped = true;\\n    }\\n}\\n\\n// The \\\"after body\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagAfterBody(p, token) {\\n    if (token.tagName === $.HTML) {\\n        startTagInBody(p, token);\\n    } else {\\n        tokenAfterBody(p, token);\\n    }\\n}\\n\\nfunction endTagAfterBody(p, token) {\\n    if (token.tagName === $.HTML) {\\n        if (!p.fragmentContext) {\\n            p.insertionMode = AFTER_AFTER_BODY_MODE;\\n        }\\n    } else {\\n        tokenAfterBody(p, token);\\n    }\\n}\\n\\nfunction tokenAfterBody(p, token) {\\n    p.insertionMode = IN_BODY_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"in frameset\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagInFrameset(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.FRAMESET) {\\n        p._insertElement(token, NS.HTML);\\n    } else if (tn === $.FRAME) {\\n        p._appendElement(token, NS.HTML);\\n        token.ackSelfClosing = true;\\n    } else if (tn === $.NOFRAMES) {\\n        startTagInHead(p, token);\\n    }\\n}\\n\\nfunction endTagInFrameset(p, token) {\\n    if (token.tagName === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\\n        p.openElements.pop();\\n\\n        if (!p.fragmentContext && p.openElements.currentTagName !== $.FRAMESET) {\\n            p.insertionMode = AFTER_FRAMESET_MODE;\\n        }\\n    }\\n}\\n\\n// The \\\"after frameset\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagAfterFrameset(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.NOFRAMES) {\\n        startTagInHead(p, token);\\n    }\\n}\\n\\nfunction endTagAfterFrameset(p, token) {\\n    if (token.tagName === $.HTML) {\\n        p.insertionMode = AFTER_AFTER_FRAMESET_MODE;\\n    }\\n}\\n\\n// The \\\"after after body\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagAfterAfterBody(p, token) {\\n    if (token.tagName === $.HTML) {\\n        startTagInBody(p, token);\\n    } else {\\n        tokenAfterAfterBody(p, token);\\n    }\\n}\\n\\nfunction tokenAfterAfterBody(p, token) {\\n    p.insertionMode = IN_BODY_MODE;\\n    p._processToken(token);\\n}\\n\\n// The \\\"after after frameset\\\" insertion mode\\n//------------------------------------------------------------------\\nfunction startTagAfterAfterFrameset(p, token) {\\n    const tn = token.tagName;\\n\\n    if (tn === $.HTML) {\\n        startTagInBody(p, token);\\n    } else if (tn === $.NOFRAMES) {\\n        startTagInHead(p, token);\\n    }\\n}\\n\\n// The rules for parsing tokens in foreign content\\n//------------------------------------------------------------------\\nfunction nullCharacterInForeignContent(p, token) {\\n    token.chars = unicode.REPLACEMENT_CHARACTER;\\n    p._insertCharacters(token);\\n}\\n\\nfunction characterInForeignContent(p, token) {\\n    p._insertCharacters(token);\\n    p.framesetOk = false;\\n}\\n\\nfunction startTagInForeignContent(p, token) {\\n    if (foreignContent.causesExit(token) && !p.fragmentContext) {\\n        while (\\n            p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\\n            !p._isIntegrationPoint(p.openElements.current)\\n        ) {\\n            p.openElements.pop();\\n        }\\n\\n        p._processToken(token);\\n    } else {\\n        const current = p._getAdjustedCurrentElement();\\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\\n\\n        if (currentNs === NS.MATHML) {\\n            foreignContent.adjustTokenMathMLAttrs(token);\\n        } else if (currentNs === NS.SVG) {\\n            foreignContent.adjustTokenSVGTagName(token);\\n            foreignContent.adjustTokenSVGAttrs(token);\\n        }\\n\\n        foreignContent.adjustTokenXMLAttrs(token);\\n\\n        if (token.selfClosing) {\\n            p._appendElement(token, currentNs);\\n        } else {\\n            p._insertElement(token, currentNs);\\n        }\\n\\n        token.ackSelfClosing = true;\\n    }\\n}\\n\\nfunction endTagInForeignContent(p, token) {\\n    for (let i = p.openElements.stackTop; i > 0; i--) {\\n        const element = p.openElements.items[i];\\n\\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\\n            p._processToken(token);\\n            break;\\n        }\\n\\n        if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {\\n            p.openElements.popUntilElementPopped(element);\\n            break;\\n        }\\n    }\\n}\\n\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"callAdoptionAgency\",\"p\",\"token\",\"i\",\"AA_OUTER_LOOP_ITER\",\"formattingElementEntry\",\"activeFormattingElements\",\"getElementEntryInScopeWithTagName\",\"tagName\",\"openElements\",\"contains\",\"element\",\"hasInScope\",\"removeEntry\",\"genericEndTagInBody\",\"furthestBlock\",\"stackTop\",\"items\",\"_isSpecialElement\",\"popUntilElementPopped\",\"bookmark\",\"lastElement\",\"nextElement\",\"getCommonAncestor\",\"formattingElement\",\"elementEntry\",\"getElementEntry\",\"counterOverflow\",\"AA_INNER_LOOP_ITER\",\"remove\",\"ns\",\"treeAdapter\",\"getNamespaceURI\",\"newElement\",\"createElement\",\"attrs\",\"replace\",\"detachNode\",\"appendChild\",\"commonAncestor\",\"_isElementCausesFosterParenting\",\"_fosterParentElement\",\"tn\",\"getTagName\",\"$\",\"TEMPLATE\",\"NS\",\"HTML\",\"getTemplateContent\",\"_adoptNodes\",\"insertElementAfterBookmark\",\"insertAfter\",\"ignoreToken\",\"misplacedDoctype\",\"_err\",\"ERR\",\"appendComment\",\"_appendCommentNode\",\"currentTmplContent\",\"current\",\"appendCommentToDocument\",\"document\",\"insertCharacters\",\"_insertCharacters\",\"stopParsing\",\"stopped\",\"tokenInInitialMode\",\"missingDoctype\",\"beforeToken\",\"setDocumentMode\",\"DOCUMENT_MODE\",\"QUIRKS\",\"insertionMode\",\"BEFORE_HTML_MODE\",\"_processToken\",\"tokenBeforeHtml\",\"_insertFakeRootElement\",\"BEFORE_HEAD_MODE\",\"tokenBeforeHead\",\"_insertFakeElement\",\"HEAD\",\"headElement\",\"IN_HEAD_MODE\",\"startTagInHead\",\"startTagInBody\",\"BASE\",\"BASEFONT\",\"BGSOUND\",\"LINK\",\"META\",\"_appendElement\",\"ackSelfClosing\",\"TITLE\",\"_switchToTextParsing\",\"Tokenizer\",\"MODE\",\"RCDATA\",\"NOSCRIPT\",\"options\",\"scriptingEnabled\",\"RAWTEXT\",\"_insertElement\",\"IN_HEAD_NO_SCRIPT_MODE\",\"NOFRAMES\",\"STYLE\",\"SCRIPT\",\"SCRIPT_DATA\",\"_insertTemplate\",\"insertMarker\",\"framesetOk\",\"IN_TEMPLATE_MODE\",\"_pushTmplInsertionMode\",\"misplacedStartTagForHeadElement\",\"tokenInHead\",\"endTagInHead\",\"pop\",\"AFTER_HEAD_MODE\",\"BODY\",\"BR\",\"tmplCount\",\"generateImpliedEndTagsThoroughly\",\"currentTagName\",\"closingOfElementWithOpenChildElements\",\"popUntilTagNamePopped\",\"clearToLastMarker\",\"_popTmplInsertionMode\",\"_resetInsertionMode\",\"endTagWithoutMatchingOpenElement\",\"tokenInHeadNoScript\",\"type\",\"errCode\",\"EOF_TOKEN\",\"openElementsLeftAfterEof\",\"disallowedContentInNoscriptInHead\",\"tokenAfterHead\",\"IN_BODY_MODE\",\"whitespaceCharacterInBody\",\"_reconstructActiveFormattingElements\",\"characterInBody\",\"addressStartTagInBody\",\"hasInButtonScope\",\"P\",\"_closePElement\",\"preStartTagInBody\",\"skipNextNewLine\",\"bStartTagInBody\",\"pushElement\",\"appletStartTagInBody\",\"areaStartTagInBody\",\"optgroupStartTagInBody\",\"OPTION\",\"rbStartTagInBody\",\"RUBY\",\"generateImpliedEndTags\",\"genericStartTagInBody\",\"length\",\"I\",\"S\",\"B\",\"U\",\"A\",\"activeElementEntry\",\"DL\",\"OL\",\"UL\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"LI\",\"DD\",\"DT\",\"elementTn\",\"closeTn\",\"generateImpliedEndTagsWithExclusion\",\"ADDRESS\",\"DIV\",\"EM\",\"TT\",\"HR\",\"RB\",\"RT\",\"RP\",\"RTC\",\"TH\",\"TD\",\"TR\",\"DIR\",\"NAV\",\"PRE\",\"BIG\",\"IMG\",\"WBR\",\"XMP\",\"SVG\",\"foreignContent\",\"adjustTokenSVGAttrs\",\"adjustTokenXMLAttrs\",\"selfClosing\",\"COL\",\"adoptAttributes\",\"bodyElement\",\"tryPeekProperlyNestedBodyElement\",\"MAIN\",\"MENU\",\"FORM\",\"inTemplate\",\"formElement\",\"CODE\",\"FONT\",\"NOBR\",\"AREA\",\"MATH\",\"adjustTokenMathMLAttrs\",\"MATHML\",\"ASIDE\",\"SMALL\",\"TABLE\",\"getDocumentMode\",\"IN_TABLE_MODE\",\"EMBED\",\"INPUT\",\"inputType\",\"getTokenAttr\",\"ATTRS\",\"TYPE\",\"HIDDEN_INPUT_TYPE\",\"toLowerCase\",\"PARAM\",\"TRACK\",\"IMAGE\",\"FRAME\",\"TBODY\",\"TFOOT\",\"THEAD\",\"CENTER\",\"FIGURE\",\"FOOTER\",\"HEADER\",\"HGROUP\",\"DIALOG\",\"BUTTON\",\"STRIKE\",\"STRONG\",\"APPLET\",\"OBJECT\",\"KEYGEN\",\"SOURCE\",\"IFRAME\",\"SELECT\",\"IN_CAPTION_MODE\",\"IN_TABLE_BODY_MODE\",\"IN_ROW_MODE\",\"IN_CELL_MODE\",\"IN_SELECT_IN_TABLE_MODE\",\"IN_SELECT_MODE\",\"DETAILS\",\"ARTICLE\",\"SECTION\",\"SUMMARY\",\"LISTING\",\"MARQUEE\",\"NOEMBED\",\"CAPTION\",\"FRAMESET\",\"popAllUpToHtmlElement\",\"IN_FRAMESET_MODE\",\"FIELDSET\",\"TEXTAREA\",\"tokenizer\",\"state\",\"originalInsertionMode\",\"TEXT_MODE\",\"OPTGROUP\",\"COLGROUP\",\"PLAINTEXT\",\"BLOCKQUOTE\",\"FIGCAPTION\",\"addressEndTagInBody\",\"appletEndTagInBody\",\"endTagInBody\",\"hasInListItemScope\",\"hasNumberedHeaderInScope\",\"popUntilNumberedHeaderPopped\",\"AFTER_BODY_MODE\",\"eofInBody\",\"tmplInsertionModeStackTop\",\"eofInTemplate\",\"characterInTable\",\"curTn\",\"pendingCharacterTokens\",\"hasNonWhitespacePendingCharacterToken\",\"IN_TABLE_TEXT_MODE\",\"tokenInTable\",\"startTagInTable\",\"clearBackToTableContext\",\"IN_COLUMN_GROUP_MODE\",\"hasInTableScope\",\"endTagInTable\",\"savedFosterParentingState\",\"fosterParentingEnabled\",\"_processTokenInBodyMode\",\"tokenInTableText\",\"tokenInColumnGroup\",\"startTagInSelect\",\"hasInSelectScope\",\"endTagInSelect\",\"prevOpenElementTn\",\"prevOpenElement\",\"tokenAfterBody\",\"tokenAfterAfterBody\",\"OpenElementStack\",\"FormattingElementList\",\"LocationInfoParserMixin\",\"ErrorReportingParserMixin\",\"Mixin\",\"defaultTreeAdapter\",\"mergeOptions\",\"doctype\",\"unicode\",\"TAG_NAMES\",\"NAMESPACES\",\"DEFAULT_OPTIONS\",\"sourceCodeLocationInfo\",\"onParseError\",\"INSERTION_MODE_RESET_MAP\",\"TEMPLATE_INSERTION_MODE_SWITCH_MAP\",\"TOKEN_HANDLERS\",\"CHARACTER_TOKEN\",\"NULL_CHARACTER_TOKEN\",\"WHITESPACE_CHARACTER_TOKEN\",\"COMMENT_TOKEN\",\"DOCTYPE_TOKEN\",\"doctypeInInitialMode\",\"_setDocumentType\",\"mode\",\"forceQuirks\",\"isConforming\",\"nonConformingDoctype\",\"START_TAG_TOKEN\",\"END_TAG_TOKEN\",\"startTagBeforeHtml\",\"endTagBeforeHtml\",\"startTagBeforeHead\",\"endTagBeforeHead\",\"startTagInHeadNoScript\",\"nestedNoscriptInHead\",\"endTagInHeadNoScript\",\"startTagAfterHead\",\"abandonedHeadElementChild\",\"push\",\"endTagAfterHead\",\"endTagInText\",\"pendingScript\",\"eofInText\",\"eofInElementThatCanContainOnlyText\",\"characterInTableText\",\"whitespaceCharacterInTableText\",\"startTagInCaption\",\"endTagInCaption\",\"startTagInColumnGroup\",\"endTagInColumnGroup\",\"startTagInTableBody\",\"clearBackToTableBodyContext\",\"hasTableBodyContextInTableScope\",\"endTagInTableBody\",\"startTagInRow\",\"clearBackToTableRowContext\",\"endTagInRow\",\"startTagInCell\",\"_closeTableCell\",\"endTagInCell\",\"startTagInSelectInTable\",\"endTagInSelectInTable\",\"startTagInTemplate\",\"newInsertionMode\",\"endTagInTemplate\",\"appendCommentToRootHtmlElement\",\"startTagAfterBody\",\"endTagAfterBody\",\"fragmentContext\",\"AFTER_AFTER_BODY_MODE\",\"startTagInFrameset\",\"endTagInFrameset\",\"isRootHtmlElementCurrent\",\"AFTER_FRAMESET_MODE\",\"startTagAfterFrameset\",\"endTagAfterFrameset\",\"AFTER_AFTER_FRAMESET_MODE\",\"startTagAfterAfterBody\",\"startTagAfterAfterFrameset\",\"Parser\",\"constructor\",\"install\",\"parse\",\"html\",\"createDocument\",\"_bootstrap\",\"write\",\"_runParsingLoop\",\"parseFragment\",\"documentMock\",\"_initTokenizerForFragmentParsing\",\"_findFormInFragmentContext\",\"rootElement\",\"getFirstChild\",\"fragment\",\"createDocumentFragment\",\"INITIAL_MODE\",\"tmplInsertionModeStack\",\"currentTmplInsertionMode\",\"scriptHandler\",\"_setupTokenizerCDATAMode\",\"getNextToken\",\"HIBERNATION_TOKEN\",\"chars\",\"substr\",\"_processInputToken\",\"runParsingLoopForCurrentChunk\",\"writeCallback\",\"script\",\"_getAdjustedCurrentElement\",\"allowCDATA\",\"_isIntegrationPoint\",\"currentToken\",\"nextTokenizerState\",\"switchToPlaintextParsing\",\"node\",\"getParentNode\",\"setDocumentType\",\"name\",\"publicId\",\"systemId\",\"_attachElementToTree\",\"_shouldFosterParentOnInsertion\",\"namespaceURI\",\"tmpl\",\"content\",\"setTemplateContent\",\"parent\",\"commentNode\",\"createCommentNode\",\"data\",\"_fosterParentText\",\"insertText\",\"donor\",\"recipient\",\"child\",\"_shouldProcessTokenInForeignContent\",\"ANNOTATION_XML\",\"isCharacterToken\",\"MGLYPH\",\"MALIGNMARK\",\"_processTokenInForeignContent\",\"REPLACEMENT_CHARACTER\",\"causesExit\",\"currentNs\",\"adjustTokenSVGTagName\",\"nonVoidHtmlElementStartTagWithTrailingSolidus\",\"foreignNS\",\"getAttrList\",\"isIntegrationPoint\",\"listLength\",\"unopenIdx\",\"entry\",\"entries\",\"MARKER_ENTRY\",\"popUntilTableCellPopped\",\"last\",\"_resetInsertionModeForSelect\",\"selectIdx\",\"ancestor\",\"_findFosterParentingLocation\",\"location\",\"beforeElement\",\"openElement\",\"insertBefore\",\"insertTextBefore\",\"SPECIAL_ELEMENTS\"]\n}\n"]